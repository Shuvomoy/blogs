<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/blogs/libs/katex/katex.min.css"> <link rel=stylesheet  href="/blogs/libs/highlight/github.min.css"> <link rel=stylesheet  href="/blogs/css/franklin.css"> <link rel=stylesheet  href="/blogs/css/tufte.css"> <link rel=stylesheet  href="/blogs/css/latex.css"> <link rel=stylesheet  href="/blogs/css/adjust.css"> <link rel=stylesheet  href="/blogs/css/FranklinTheorems.css"> <link rel=icon  href="/blogs/assets/favicon.png"> <title>Solving mixed integer programming (MIP) problems using Julia+JuMP</title> <link rel=icon  href="/blogs/assets/favicon.ico"> <script src="/blogs/libs/lunr/lunr.min.js"></script> <script src="/blogs/libs/lunr/lunr_index.js"></script> <script src="/blogs/libs/lunr/lunrclient.min.js"></script> <div id=layout > <div id=menu > <ul> <li><a href="/blogs/">Blogs</a> <li><a href="/blogs/index.html#tags">Tags</a> <li><a href="https://shuvomoy.github.io/">Website</a> <li><form id=lunrSearchForm  name=lunrSearchForm > <input class=search-input  name=q  placeholder=" " type=text > <input type=submit  value=Search  formaction="/blogs/search/index.html"> </form> </ul> </div> <div id=main > <!-- Content appended here .result-title a { text-decoration: none; } .result-title a:hover { text-decoration: underline; } .result-preview { color: #808080; } .resultCount { color: #808080; } .result-query { font-weight: bold; } #lunrSearchForm { margin-top: 1em; } --> <div class=franklin-content ><h1 id=solving_mixed_integer_programming_mip_problems_using_juliajump ><a href="#solving_mixed_integer_programming_mip_problems_using_juliajump" class=header-anchor >Solving mixed integer programming &#40;MIP&#41; problems using Julia&#43;JuMP</a></h1> <p><strong>Shuvomoy Das Gupta</strong></p> <p><em>July 10, 2021</em></p> <p>In this blog, we will discuss how to solve a mixed integer programming &#40;MIP&#41; problem using Julia and JuMP.</p> <hr /> <div class=franklin-toc ><ol><li><a href="#problem">Problem</a><li><a href="#data_generation">Data generation</a><li><a href="#function_for_solving_mip">Function for solving MIP</a><li><a href="#solving_from_scratch">Solving from scratch</a><li><a href="#solving_using_warm-start">Solving using warm-start</a><li><a href="#solving_using_variable_hint">Solving using variable hint</a><li><a href="#some_helpful_online_links_on_speeding_up_the_solution_process">Some helpful online links on speeding up the solution process</a></ol></div> <hr /> <h3 id=problem ><a href="#problem" class=header-anchor >Problem</a></h3> <p>Let us try to write the JuMP code for the following standard form optimization problem:</p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mtable rowspacing=0.2500em  columnalign="right left right left" columnspacing="0em 1em 0em"><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><mtext>minimize</mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><msup><mi>c</mi><mi>T</mi></msup><mi>x</mi><mo>+</mo><msup><mi>d</mi><mi>T</mi></msup><mi>y</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><mtext>subject to</mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><mi>A</mi><mi>x</mi><mo>+</mo><mi>B</mi><mi>y</mi><mo>=</mo><mi>f</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><mi>x</mi><mo>⪰</mo><mn>0</mn><mo separator=true >,</mo><mi>y</mi><mo>⪰</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><mi>x</mi><mo>∈</mo><msup><mi mathvariant=double-struck >R</mi><mi>n</mi></msup><mo separator=true >,</mo><mi>y</mi><mo>∈</mo><msup><mrow><mo stretchy=false >{</mo><mn mathvariant=double-struck >0</mn><mo separator=true >,</mo><mn mathvariant=double-struck >1</mn><mo stretchy=false >}</mo></mrow><mi>p</mi></msup><mo separator=true >,</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex"> \begin{aligned} &amp; \text{minimize} &amp;&amp; c^T x + d^T y\\ &amp; \text{subject to} &amp;&amp; A x + B y= f \\ &amp; &amp;&amp; x \succeq 0, y \succeq 0 \\ &amp; &amp;&amp; x \in \mathbb{R}^n, y \in \mathbb{\{0,1\}}^p, \end{aligned} </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:6.051330999999999em;vertical-align:-2.7756654999999992em;"></span><span class=mord ><span class=mtable ><span class=col-align-r ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:3.2756655000000006em;"><span style="top:-5.275665500000001em;"><span class=pstrut  style="height:2.891331em;"></span><span class=mord ></span></span><span style="top:-3.7756655000000006em;"><span class=pstrut  style="height:2.891331em;"></span><span class=mord ></span></span><span style="top:-2.2756655000000006em;"><span class=pstrut  style="height:2.891331em;"></span><span class=mord ></span></span><span style="top:-0.775665500000001em;"><span class=pstrut  style="height:2.891331em;"></span><span class=mord ></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:2.7756654999999992em;"><span></span></span></span></span></span><span class=col-align-l ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:3.2756655000000006em;"><span style="top:-5.3843345000000005em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord ></span><span class="mord text"><span class=mord >minimize</span></span></span></span><span style="top:-3.8843345000000005em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord ></span><span class="mord text"><span class=mord >subject to</span></span></span></span><span style="top:-2.3843345000000005em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord ></span></span></span><span style="top:-0.8843345000000009em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord ></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:2.7756654999999992em;"><span></span></span></span></span></span><span class=arraycolsep  style="width:1em;"></span><span class=col-align-r ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:3.2756655000000006em;"><span style="top:-5.275665500000001em;"><span class=pstrut  style="height:2.891331em;"></span><span class=mord ></span></span><span style="top:-3.7756655000000006em;"><span class=pstrut  style="height:2.891331em;"></span><span class=mord ></span></span><span style="top:-2.2756655000000006em;"><span class=pstrut  style="height:2.891331em;"></span><span class=mord ></span></span><span style="top:-0.775665500000001em;"><span class=pstrut  style="height:2.891331em;"></span><span class=mord ></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:2.7756654999999992em;"><span></span></span></span></span></span><span class=col-align-l ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:3.2756655000000006em;"><span style="top:-5.3843345000000005em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord ></span><span class=mord ><span class="mord mathnormal">c</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord mathnormal">x</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mord ><span class="mord mathnormal">d</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-3.8843345000000005em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord ></span><span class="mord mathnormal">A</span><span class="mord mathnormal">x</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span><span style="top:-2.3843345000000005em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord ></span><span class="mord mathnormal">x</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >⪰</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord >0</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >⪰</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord >0</span></span></span><span style="top:-0.8843345000000009em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord ></span><span class="mord mathnormal">x</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord ><span class="mord mathbb">R</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord ><span class=mord ><span class=mopen >{</span><span class=mord >0</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord >1</span><span class=mclose >}</span></span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.804292em;"><span style="top:-3.2029000000000005em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span><span class=mpunct >,</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:2.7756654999999992em;"><span></span></span></span></span></span></span></span></span></span></span></span> <p>where <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo separator=true >,</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">x,y</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">x</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span> are the decision variables, <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>∈</mo><msup><mi mathvariant=double-struck >R</mi><mrow><mi>m</mi><mo>×</mo><mi>n</mi></mrow></msup><mo separator=true >,</mo><mi>B</mi><mo>∈</mo><msup><mi mathvariant=double-struck >R</mi><mrow><mi>m</mi><mo>×</mo><mi>p</mi></mrow></msup><mo separator=true >,</mo><mi>c</mi><mo>∈</mo><msup><mi mathvariant=double-struck >R</mi><mi>n</mi></msup><mo separator=true >,</mo><mi>d</mi><mo>∈</mo><msup><mi mathvariant=double-struck >R</mi><mi>p</mi></msup><mo separator=true >,</mo><mi>f</mi><mo>∈</mo><msup><mi mathvariant=double-struck >R</mi><mi>m</mi></msup></mrow><annotation encoding="application/x-tex">A \in \mathbb{R}^{m \times n}, B \in \mathbb{R}^{m \times p}, c \in \mathbb{R}^n, d \in \mathbb{R}^p, f \in \mathbb{R}^m</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">A</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.9657709999999999em;vertical-align:-0.19444em;"></span><span class=mord ><span class="mord mathbb">R</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.771331em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.9657709999999999em;vertical-align:-0.19444em;"></span><span class=mord ><span class="mord mathbb">R</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.771331em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">c</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class=mord ><span class="mord mathbb">R</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class=mord ><span class="mord mathbb">R</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.68889em;vertical-align:0em;"></span><span class=mord ><span class="mord mathbb">R</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span></span></span></span>. The data were randomly generated. The symbol <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⪰</mo></mrow><annotation encoding="application/x-tex">\succeq</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class=mrel >⪰</span></span></span></span> &#40;<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⪯</mo></mrow><annotation encoding="application/x-tex">\preceq</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class=mrel >⪯</span></span></span></span>&#41; stands for element-wise greater &#40;less&#41; than or equal to.</p> <h3 id=data_generation ><a href="#data_generation" class=header-anchor >Data generation</a></h3> <p>Let us generate random data.</p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Random

n = <span class=hljs-number >15</span>
p = <span class=hljs-number >14</span>
m = <span class=hljs-number >13</span>

A = randn(m,n)

B = randn(m,p)

c = abs.(randn(n,<span class=hljs-number >1</span>))

d = abs.(randn(p,<span class=hljs-number >1</span>))

x_rand_feas = abs.(randn(n,<span class=hljs-number >1</span>))

y_rand_feas = bitrand(p,<span class=hljs-number >1</span>)

f = A*x_rand_feas + B*y_rand_feas <span class=hljs-comment ># to ensure that we have a feasible solution</span></code></pre> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> JuMP, Gurobi</code></pre>
<h3 id=function_for_solving_mip ><a href="#function_for_solving_mip" class=header-anchor >Function for solving MIP</a></h3>
<p>Let us write the function, which will find an optimal solution. We have used the notions of warm-start and variable hint in the function. Information about them can be found at the following links:</p>
<ul>
<li><p><a href="https://www.gurobi.com/documentation/9.1/refman/start.html">Warm-start</a>,</p>

</ul>
<ul>
<li><p><a href="https://www.gurobi.com/documentation/9.1/refman/varhintval.html#attr:VarHintVal">Variable hint</a>.</p>

</ul>
<pre><code class="julia hljs"><span class=hljs-keyword >function</span> MIP_solver(A, B, c, d, f;
    <span class=hljs-comment ># if warm-start value is provided</span>
    warm_start = :off,
    x_start_value = zeros(n, <span class=hljs-number >1</span>),
    y_start_value = zeros(p,<span class=hljs-number >1</span>),
    <span class=hljs-comment ># if variable hint is provided</span>
    variable_hint = :off,
    x_hint =  zeros(n, <span class=hljs-number >1</span>),
    y_hint = zeros(p,<span class=hljs-number >1</span>)
    )

    sfMipModel = direct_model(Gurobi.Optimizer())
    <span class=hljs-comment ># using direct_model has results in smaller memory allocation</span>


    set_optimizer_attribute(sfMipModel, <span class=hljs-string >&quot;MIPFocus&quot;</span>, <span class=hljs-number >3</span>)
    <span class=hljs-comment ># If you are more interested in good quality feasible solutions, you can select MIPFocus=1.</span>
    <span class=hljs-comment ># If you believe the solver is having no trouble finding the optimal solution, and wish to focus more</span>
    <span class=hljs-comment ># attention on proving optimality, select MIPFocus=2.</span>
    <span class=hljs-comment ># If the best objective bound is moving very slowly (or not at all), you may want to try MIPFocus=3 to focus on the bound.</span>


    set_optimizer_attribute(sfMipModel, <span class=hljs-string >&quot;NonConvex&quot;</span>, <span class=hljs-number >2</span>)
    <span class=hljs-comment ># &quot;NonConvex&quot; =&gt; 2 tells Gurobi to use its nonconvex algorithm</span>

    <span class=hljs-comment ># some other Gurobi options relevant for MIP solving (commented here)</span>
    <span class=hljs-comment ># -------------------------------------------------------------------</span>

    <span class=hljs-comment ># set_optimizer_attribute(BnB_PEP_model, &quot;MIPGap&quot;, 1e-4)</span>
    <span class=hljs-comment >## for more info see</span>
    <span class=hljs-comment >## https://www.gurobi.com/documentation/9.1/refman/mipgap2.html#parameter:MIPGap</span>

    <span class=hljs-comment ># set_optimizer_attribute(BnB_PEP_model, &quot;FeasibilityTol&quot;, 1e-4)</span>
    <span class=hljs-comment >## for more info see</span>
    <span class=hljs-comment >## https://www.gurobi.com/documentation/9.1/refman/feasibilitytol.html</span>

    <span class=hljs-comment ># set_optimizer_attribute(BnB_PEP_model, &quot;OptimalityTol&quot;, 1e-4)</span>
    <span class=hljs-comment >## for more info see</span>
    <span class=hljs-comment >## https://www.gurobi.com/documentation/9.1/refman/optimalitytol.html</span>

    <span class=hljs-meta >@variable</span>(sfMipModel, x[<span class=hljs-number >1</span>:n] &gt;=<span class=hljs-number >0</span>)
    <span class=hljs-meta >@variable</span>(sfMipModel, y[<span class=hljs-number >1</span>:p] &gt;= <span class=hljs-number >0</span>, Bin)

    <span class=hljs-keyword >if</span> warm_start == :on

        <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:n
            set_start_value(x[i], x_start_value[i])
            <span class=hljs-comment ># alternatively the following code will do the same thing</span>
            <span class=hljs-comment ># MOI.set(sfMipModel, Gurobi.VariableAttribute(&quot;Start&quot;), x[i], x_start_value[i])</span>
        <span class=hljs-keyword >end</span>

        <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:p
            set_start_value(y[i], y_start_value[i])
            <span class=hljs-comment ># alternatively the following code will do the same thing</span>
            <span class=hljs-comment ># MOI.set(sfMipModel, Gurobi.VariableAttribute(&quot;Start&quot;), y[i], y_start_value[i])</span>
        <span class=hljs-keyword >end</span>

    <span class=hljs-keyword >end</span>

    <span class=hljs-keyword >if</span> variable_hint == :on
        <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:n
            MOI.set(sfMipModel, Gurobi.VariableAttribute(<span class=hljs-string >&quot;VarHintVal&quot;</span>), x[i], x_start_value[i])
            MOI.set(sfMipModel, Gurobi.VariableAttribute(<span class=hljs-string >&quot;VarHintPri&quot;</span>), x[i], <span class=hljs-number >10</span>) <span class=hljs-comment ># this number represents our confidence in the variable hint</span>
        <span class=hljs-keyword >end</span>

        <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:p
            MOI.set(sfMipModel, Gurobi.VariableAttribute(<span class=hljs-string >&quot;VarHintVal&quot;</span>), y[i], y_start_value[i])
            MOI.set(sfMipModel, Gurobi.VariableAttribute(<span class=hljs-string >&quot;VarHintPri&quot;</span>), y[i], <span class=hljs-number >10</span>) <span class=hljs-comment ># this number represents our confidence in the variable hint</span>
        <span class=hljs-keyword >end</span>

    <span class=hljs-keyword >end</span>

    <span class=hljs-meta >@objective</span>(sfMipModel, Min, sum(c[i] * x[i] <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:n)+sum(d[i]*y[i] <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:p))

    <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:m
        <span class=hljs-meta >@constraint</span>(sfMipModel, sum(A[i,j]*x[j] <span class=hljs-keyword >for</span> j <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:n)+ sum(B[i,j]*y[j] <span class=hljs-keyword >for</span> j <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:p) == f[i])
    <span class=hljs-keyword >end</span>

    optimize!(sfMipModel)

    <span class=hljs-comment ># store the important values and return them</span>
    status = JuMP.termination_status(sfMipModel)
    x_sol = value.(x)
    y_sol = value.(y)
    obj_value = objective_value(sfMipModel)
    
    <span class=hljs-keyword >return</span> obj_value, x_sol, y_sol

<span class=hljs-keyword >end</span></code></pre>
<h3 id=solving_from_scratch ><a href="#solving_from_scratch" class=header-anchor >Solving from scratch</a></h3>
<pre><code class="julia hljs">obj_value_1, x_sol_1, y_sol_1 = MIP_solver(A, B, c, d, f)</code></pre>
<pre><code class="julia hljs">Solver output
-------------
Gurobi Optimizer version <span class=hljs-number >9.1</span><span class=hljs-number >.2</span> build v9<span class=hljs-number >.1</span><span class=hljs-number >.2</span>rc0 (win64)
Thread count: <span class=hljs-number >4</span> physical cores, <span class=hljs-number >8</span> logical processors, <span class=hljs-keyword >using</span> up to <span class=hljs-number >8</span> threads
Optimize a model with <span class=hljs-number >13</span> rows, <span class=hljs-number >29</span> columns and <span class=hljs-number >377</span> nonzeros
Model fingerprint: <span class=hljs-number >0xf6c02cdc</span>
Variable types: <span class=hljs-number >15</span> continuous, <span class=hljs-number >14</span> integer (<span class=hljs-number >14</span> binary)
Coefficient statistics:
  <span class=hljs-built_in >Matrix</span> range     [<span class=hljs-number >2e-03</span>, <span class=hljs-number >3e+00</span>]
  Objective range  [<span class=hljs-number >4e-03</span>, <span class=hljs-number >2e+00</span>]
  Bounds range     [<span class=hljs-number >0e+00</span>, <span class=hljs-number >0e+00</span>]
  RHS range        [<span class=hljs-number >6e-01</span>, <span class=hljs-number >1e+01</span>]
Presolve time: <span class=hljs-number >0.00</span>s
Presolved: <span class=hljs-number >13</span> rows, <span class=hljs-number >29</span> columns, <span class=hljs-number >356</span> nonzeros
Variable types: <span class=hljs-number >15</span> continuous, <span class=hljs-number >14</span> integer (<span class=hljs-number >14</span> binary)
Presolved: <span class=hljs-number >13</span> rows, <span class=hljs-number >29</span> columns, <span class=hljs-number >356</span> nonzeros


Root relaxation: objective <span class=hljs-number >4.410336e+00</span>, <span class=hljs-number >16</span> iterations, <span class=hljs-number >0.00</span> seconds

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>    <span class=hljs-number >4.41034</span>    <span class=hljs-number >0</span>    <span class=hljs-number >5</span>          -    <span class=hljs-number >4.41034</span>      -     -    <span class=hljs-number >0</span>s
H    <span class=hljs-number >0</span>     <span class=hljs-number >0</span>                       <span class=hljs-number >7.0242168</span>    <span class=hljs-number >4.41034</span>  <span class=hljs-number >37.2</span>%     -    <span class=hljs-number >0</span>s
H    <span class=hljs-number >0</span>     <span class=hljs-number >0</span>                       <span class=hljs-number >6.5680788</span>    <span class=hljs-number >4.41034</span>  <span class=hljs-number >32.9</span>%     -    <span class=hljs-number >0</span>s
     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>    <span class=hljs-number >6.56808</span>    <span class=hljs-number >0</span>    <span class=hljs-number >4</span>    <span class=hljs-number >6.56808</span>    <span class=hljs-number >6.56808</span>  <span class=hljs-number >0.00</span>%     -    <span class=hljs-number >0</span>s

Cutting planes:
  Gomory: <span class=hljs-number >5</span>
  MIR: <span class=hljs-number >3</span>
  Flow cover: <span class=hljs-number >6</span>

Explored <span class=hljs-number >1</span> nodes (<span class=hljs-number >24</span> simplex iterations) <span class=hljs-keyword >in</span> <span class=hljs-number >0.06</span> seconds
Thread count was <span class=hljs-number >8</span> (of <span class=hljs-number >8</span> available processors)

Solution count <span class=hljs-number >2</span>: <span class=hljs-number >6.56808</span> <span class=hljs-number >7.02422</span>

Optimal solution found (tolerance <span class=hljs-number >1.00e-04</span>)
Best objective <span class=hljs-number >6.568078761353e+00</span>, best bound <span class=hljs-number >6.568078761353e+00</span>, gap <span class=hljs-number >0.0000</span>%

User-callback calls <span class=hljs-number >74</span>, time <span class=hljs-keyword >in</span> user-callback <span class=hljs-number >0.00</span> sec</code></pre>
<h3 id=solving_using_warm-start ><a href="#solving_using_warm-start" class=header-anchor >Solving using warm-start</a></h3>
<pre><code class="julia hljs">obj_value_2, x_sol_2, y_sol_2 = MIP_solver(A, B, c, d, f;
    <span class=hljs-comment ># if warm-start value is provided</span>
    warm_start = :on,
    x_start_value = x_sol_1,
    y_start_value = y_sol_1 )</code></pre>
<pre><code class="julia hljs">Gurobi Optimizer version <span class=hljs-number >9.1</span><span class=hljs-number >.2</span> build v9<span class=hljs-number >.1</span><span class=hljs-number >.2</span>rc0 (win64)
Thread count: <span class=hljs-number >4</span> physical cores, <span class=hljs-number >8</span> logical processors, <span class=hljs-keyword >using</span> up to <span class=hljs-number >8</span> threads
Optimize a model with <span class=hljs-number >13</span> rows, <span class=hljs-number >29</span> columns and <span class=hljs-number >377</span> nonzeros
Model fingerprint: <span class=hljs-number >0xbeda5cf1</span>
Variable types: <span class=hljs-number >15</span> continuous, <span class=hljs-number >14</span> integer (<span class=hljs-number >14</span> binary)
Coefficient statistics:
  <span class=hljs-built_in >Matrix</span> range     [<span class=hljs-number >2e-03</span>, <span class=hljs-number >3e+00</span>]
  Objective range  [<span class=hljs-number >4e-03</span>, <span class=hljs-number >2e+00</span>]
  Bounds range     [<span class=hljs-number >0e+00</span>, <span class=hljs-number >0e+00</span>]
  RHS range        [<span class=hljs-number >6e-01</span>, <span class=hljs-number >1e+01</span>]

Loaded user MIP start with objective <span class=hljs-number >6.56808</span> <span class=hljs-comment ># this tells us that our provided warm-start values has been accepted by Gurobi as a feasible solution</span>

Presolve time: <span class=hljs-number >0.00</span>s
Presolved: <span class=hljs-number >13</span> rows, <span class=hljs-number >29</span> columns, <span class=hljs-number >356</span> nonzeros
Variable types: <span class=hljs-number >15</span> continuous, <span class=hljs-number >14</span> integer (<span class=hljs-number >14</span> binary)
Presolved: <span class=hljs-number >13</span> rows, <span class=hljs-number >29</span> columns, <span class=hljs-number >356</span> nonzeros


Root relaxation: objective <span class=hljs-number >4.410336e+00</span>, <span class=hljs-number >16</span> iterations, <span class=hljs-number >0.00</span> seconds

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>    <span class=hljs-number >4.41034</span>    <span class=hljs-number >0</span>    <span class=hljs-number >5</span>    <span class=hljs-number >6.56808</span>    <span class=hljs-number >4.41034</span>  <span class=hljs-number >32.9</span>%     -    <span class=hljs-number >0</span>s

Cutting planes:
  Gomory: <span class=hljs-number >5</span>
  MIR: <span class=hljs-number >3</span>
  Flow cover: <span class=hljs-number >6</span>

Explored <span class=hljs-number >1</span> nodes (<span class=hljs-number >16</span> simplex iterations) <span class=hljs-keyword >in</span> <span class=hljs-number >0.08</span> seconds
Thread count was <span class=hljs-number >8</span> (of <span class=hljs-number >8</span> available processors)

Solution count <span class=hljs-number >1</span>: <span class=hljs-number >6.56808</span>

Optimal solution found (tolerance <span class=hljs-number >1.00e-04</span>)
Best objective <span class=hljs-number >6.568078761353e+00</span>, best bound <span class=hljs-number >6.568078761353e+00</span>, gap <span class=hljs-number >0.0000</span>%

User-callback calls <span class=hljs-number >71</span>, time <span class=hljs-keyword >in</span> user-callback <span class=hljs-number >0.00</span> sec</code></pre>
<h3 id=solving_using_variable_hint ><a href="#solving_using_variable_hint" class=header-anchor >Solving using variable hint</a></h3>
<pre><code class="julia hljs">obj_value_3, x_sol_3, y_sol_3 = MIP_solver(A, B, c, d, f;
    <span class=hljs-comment ># if variable hint is provided</span>
    variable_hint = :on,
    x_hint =  x_sol_1,
    y_hint = y_sol_1)</code></pre>
<pre><code class="julia hljs">Solver output
-------------
Gurobi Optimizer version <span class=hljs-number >9.1</span><span class=hljs-number >.2</span> build v9<span class=hljs-number >.1</span><span class=hljs-number >.2</span>rc0 (win64)
Thread count: <span class=hljs-number >4</span> physical cores, <span class=hljs-number >8</span> logical processors, <span class=hljs-keyword >using</span> up to <span class=hljs-number >8</span> threads
Optimize a model with <span class=hljs-number >13</span> rows, <span class=hljs-number >29</span> columns and <span class=hljs-number >377</span> nonzeros
Model fingerprint: <span class=hljs-number >0x9ff923d5</span>
Variable types: <span class=hljs-number >15</span> continuous, <span class=hljs-number >14</span> integer (<span class=hljs-number >14</span> binary)
Coefficient statistics:
  <span class=hljs-built_in >Matrix</span> range     [<span class=hljs-number >2e-03</span>, <span class=hljs-number >3e+00</span>]
  Objective range  [<span class=hljs-number >4e-03</span>, <span class=hljs-number >2e+00</span>]
  Bounds range     [<span class=hljs-number >0e+00</span>, <span class=hljs-number >0e+00</span>]
  RHS range        [<span class=hljs-number >6e-01</span>, <span class=hljs-number >1e+01</span>]
Presolve time: <span class=hljs-number >0.00</span>s
Presolved: <span class=hljs-number >13</span> rows, <span class=hljs-number >29</span> columns, <span class=hljs-number >356</span> nonzeros
Variable types: <span class=hljs-number >15</span> continuous, <span class=hljs-number >14</span> integer (<span class=hljs-number >14</span> binary)
Presolved: <span class=hljs-number >13</span> rows, <span class=hljs-number >29</span> columns, <span class=hljs-number >356</span> nonzeros


Root relaxation: objective <span class=hljs-number >4.410336e+00</span>, <span class=hljs-number >16</span> iterations, <span class=hljs-number >0.00</span> seconds

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>    <span class=hljs-number >4.41034</span>    <span class=hljs-number >0</span>    <span class=hljs-number >5</span>          -    <span class=hljs-number >4.41034</span>      -     -    <span class=hljs-number >0</span>s
H    <span class=hljs-number >0</span>     <span class=hljs-number >0</span>                       <span class=hljs-number >7.0242168</span>    <span class=hljs-number >4.41034</span>  <span class=hljs-number >37.2</span>%     -    <span class=hljs-number >0</span>s
H    <span class=hljs-number >0</span>     <span class=hljs-number >0</span>                       <span class=hljs-number >6.5680788</span>    <span class=hljs-number >4.41034</span>  <span class=hljs-number >32.9</span>%     -    <span class=hljs-number >0</span>s
     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>    <span class=hljs-number >6.56808</span>    <span class=hljs-number >0</span>    <span class=hljs-number >4</span>    <span class=hljs-number >6.56808</span>    <span class=hljs-number >6.56808</span>  <span class=hljs-number >0.00</span>%     -    <span class=hljs-number >0</span>s

Cutting planes:
  Gomory: <span class=hljs-number >5</span>
  MIR: <span class=hljs-number >3</span>
  Flow cover: <span class=hljs-number >6</span>

Explored <span class=hljs-number >1</span> nodes (<span class=hljs-number >24</span> simplex iterations) <span class=hljs-keyword >in</span> <span class=hljs-number >0.05</span> seconds
Thread count was <span class=hljs-number >8</span> (of <span class=hljs-number >8</span> available processors)

Solution count <span class=hljs-number >2</span>: <span class=hljs-number >6.56808</span> <span class=hljs-number >7.02422</span>

Optimal solution found (tolerance <span class=hljs-number >1.00e-04</span>)
Best objective <span class=hljs-number >6.568078761353e+00</span>, best bound <span class=hljs-number >6.568078761353e+00</span>, gap <span class=hljs-number >0.0000</span>%

User-callback calls <span class=hljs-number >71</span>, time <span class=hljs-keyword >in</span> user-callback <span class=hljs-number >0.00</span> sec</code></pre>
<h3 id=some_helpful_online_links_on_speeding_up_the_solution_process ><a href="#some_helpful_online_links_on_speeding_up_the_solution_process" class=header-anchor >Some helpful online links on speeding up the solution process</a></h3>
<ol>
<li><p><a href="https://support.gurobi.com/hc/en-us/articles/360043834831-How-do-I-use-MIP-starts-">How do I use MIP starts</a></p>

<li><p><a href="https://support.gurobi.com/hc/en-us/community/posts/360075269952-Warmstart-or-VarHintVal-in-QP-Python-API">Warmstart or VarHintVal in QP Python API</a></p>

<li><p><a href="https://www.gurobi.com/documentation/9.1/refman/mip_models.html">Most important parameters for MIP models</a></p>

</ol>
<div class=page-foot >
  <div class=copyright >
    &copy; Shuvomoy Das Gupta. Last modified: February 25, 2023. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>.
  </div>
</div>
</div>
        </div> 
    </div>