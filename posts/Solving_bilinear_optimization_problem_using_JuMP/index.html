<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/blogs/libs/katex/katex.min.css"> <link rel=stylesheet  href="/blogs/libs/highlight/github.min.css"> <link rel=stylesheet  href="/blogs/css/franklin.css"> <link rel=stylesheet  href="/blogs/css/tufte.css"> <link rel=stylesheet  href="/blogs/css/latex.css"> <link rel=stylesheet  href="/blogs/css/adjust.css"> <link rel=stylesheet  href="/blogs/css/FranklinTheorems.css"> <link rel=icon  href="/blogs/assets/favicon.png"> <title>Solving bilinear optimization problem using JuMP</title> <link rel=icon  href="/blogs/assets/favicon.ico"> <script src="/blogs/libs/lunr/lunr.min.js"></script> <script src="/blogs/libs/lunr/lunr_index.js"></script> <script src="/blogs/libs/lunr/lunrclient.min.js"></script> <div id=layout > <div id=menu > <ul> <li><a href="/blogs/">Blogs</a> <li><a href="/blogs/index.html#tags">Tags</a> <li><a href="https://shuvomoy.github.io/">Website</a> <li><form id=lunrSearchForm  name=lunrSearchForm > <input class=search-input  name=q  placeholder=" " type=text > <input type=submit  value=Search  formaction="/blogs/search/index.html"> </form> </ul> </div> <div id=main > <!-- Content appended here .result-title a { text-decoration: none; } .result-title a:hover { text-decoration: underline; } .result-preview { color: #808080; } .resultCount { color: #808080; } .result-query { font-weight: bold; } #lunrSearchForm { margin-top: 1em; } --> <div class=franklin-content ><h1 id=solving_bilinear_optimization_problem_using_jump ><a href="#solving_bilinear_optimization_problem_using_jump" class=header-anchor >Solving bilinear optimization problem using JuMP</a></h1> <p><strong>Shuvomoy Das Gupta</strong></p> <p><em>March 9, 2022</em></p> <p>In this blog, we will discuss how to solve a bilinear optimization problem in <code>JuMP&#43;Julia</code> using <code>Gurobi</code> and /or<code>KNITRO</code> as the solver. Here we note that, <code>Gurobi</code> is able to solve these problems to global optimality, whereas <code>KNITRO</code> can provide only solve these problems only locally. </p> <hr /> <p><strong>Table of contents</strong></p> <div class=franklin-toc ><ol><li><a href="#problem_in_consideration">Problem in consideration</a><li><a href="#jump_code"><code>JuMP</code> code</a><li><a href="#solve_from_scratch">Solve from scratch</a><li><a href="#warm-starting_gurobi_with_a_known_feasible_solution">Warm-starting <code>Gurobi</code> with a known feasible solution</a><li><a href="#warm-starting_via_jump">Warm-starting via <code>JuMP</code></a><li><a href="#warm-starting_via_gurobijl">Warm-starting via <code>Gurobi.jl</code></a><li><a href="#finding_a_locally_optimal_solution_using_knitro">Finding a locally optimal solution using <code>KNITRO</code></a><li><a href="#some_helpful_online_links_on_speeding_up_the_solution_process">Some helpful online links on speeding up the solution process</a></ol></div> <hr /> <h3 id=problem_in_consideration ><a href="#problem_in_consideration" class=header-anchor >Problem in consideration</a></h3> <p>We want to solve the following bilinear problem:</p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mtable rowspacing=0.1600em  columnalign="left left" columnspacing=1em ><mtr><mtd><mstyle scriptlevel=0  displaystyle=false ><mtext>maximize</mtext></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=false ><mrow><msub><mi>x</mi><mn>1</mn></msub><msub><mi>x</mi><mi>d</mi></msub><mo>−</mo><msub><mi>x</mi><mn>2</mn></msub><msub><mi>x</mi><mrow><mi>d</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=false ><mtext>subject to</mtext></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=false ><mrow><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>d</mi></msubsup><msub><mi>x</mi><mi>i</mi></msub><mo>≤</mo><mn>10</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=false ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=false ><mrow><msub><mi>x</mi><mi>i</mi></msub><msub><mi>x</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>≤</mo><mn>2</mn><mo separator=true >,</mo><mspace width=1em /><mi>i</mi><mo>=</mo><mn>1</mn><mo separator=true >,</mo><mo>…</mo><mo separator=true >,</mo><mi>d</mi><mo>−</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=false ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=false ><mrow><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>d</mi><mo>−</mo><mn>1</mn></mrow></msubsup><msub><mi>x</mi><mi>i</mi></msub><msub><mi>x</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=false ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=false ><mrow><mi>x</mi><mo>≥</mo><mn>0</mn><mo separator=true >,</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex"> \begin{array}{ll} \textrm{maximize} &amp; x_{1}x_d - x_2 x_{d-1}\\ \textrm{subject to} &amp; \sum_{i=1}^{d}x_{i}\leq10\\ &amp; x_{i}x_{i+1}\leq2,\quad i=1,\ldots,d-1\\ &amp; \sum_{i=1}^{d-1}x_{i}x_{i+1}=1\\ &amp; x\geq0, \end{array} </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:6.2980160000000005em;vertical-align:-2.899008em;"></span><span class=mord ><span class=mtable ><span class=arraycolsep  style="width:0.5em;"></span><span class=col-align-l ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:3.3990080000000007em;"><span style="top:-5.559008000000001em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class="mord text"><span class="mord textrm">maximize</span></span></span></span><span style="top:-4.21em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class="mord text"><span class="mord textrm">subject to</span></span></span></span><span style="top:-3.01em;"><span class=pstrut  style="height:3em;"></span><span class=mord ></span></span><span style="top:-1.6609920000000005em;"><span class=pstrut  style="height:3em;"></span><span class=mord ></span></span><span style="top:-0.46099200000000023em;"><span class=pstrut  style="height:3em;"></span><span class=mord ></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:2.899008em;"><span></span></span></span></span></span><span class=arraycolsep  style="width:0.5em;"></span><span class=arraycolsep  style="width:0.5em;"></span><span class=col-align-l ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:3.3990080000000007em;"><span style="top:-5.559008000000001em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord ><span class="mord mathnormal">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mord ><span class="mord mathnormal">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mord ><span class="mord mathnormal">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mord ><span class="mord mathnormal">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.208331em;"><span></span></span></span></span></span></span></span></span><span style="top:-4.21em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mop ><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.9890079999999999em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class="mord mathnormal">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >≤</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord >10</span></span></span><span style="top:-3.01em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord ><span class="mord mathnormal">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mord ><span class="mord mathnormal">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.208331em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >≤</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord >2</span><span class=mpunct >,</span><span class=mspace  style="margin-right:1em;"></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">i</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord >1</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=minner >…</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mord >1</span></span></span><span style="top:-1.6609920000000005em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mop ><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.9890079999999999em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class="mord mathnormal">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mord ><span class="mord mathnormal">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.208331em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord >1</span></span></span><span style="top:-0.46099200000000023em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class="mord mathnormal">x</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >≥</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord >0</span><span class=mpunct >,</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:2.899008em;"><span></span></span></span></span></span><span class=arraycolsep  style="width:0.5em;"></span></span></span></span></span></span></span> <p>where <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>∈</mo><msup><mi mathvariant=bold >R</mi><mi>d</mi></msup></mrow><annotation encoding="application/x-tex">x\in\mathbf{R}^d</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.849108em;vertical-align:0em;"></span><span class=mord ><span class="mord mathbf">R</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span></span></span></span></span></span></span></span> is the decision variables.</p> <h3 id=jump_code ><a href="#jump_code" class=header-anchor ><code>JuMP</code> code</a></h3> <p>The <code>JuMP</code> code is as follows.</p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Gurobi, JuMP, BenchmarkTools

<span class=hljs-keyword >function</span> solve_bilinear(d; start_value_provided = :off, x_start_value = zeros(d), warm_start_type = :none, silent_flag = :off)

  <span class=hljs-comment ># declare the model</span>
  <span class=hljs-comment ># -----------------</span>

  nonlinear_model = direct_model(Gurobi.Optimizer())
  <span class=hljs-comment ># using direct_model has results in smaller memory allocation</span>
  <span class=hljs-comment ># we could also use</span>
  <span class=hljs-comment ># nonlinear_model = Model(Gurobi.Optimizer)</span>
  <span class=hljs-comment ># but this requires more memory allocation</span>

  set_optimizer_attribute(nonlinear_model, <span class=hljs-string >&quot;MIPFocus&quot;</span>, <span class=hljs-number >3</span>)
  <span class=hljs-comment ># If you are more interested in good quality feasible solutions, you can select MIPFocus=1.</span>
  <span class=hljs-comment ># If you believe the solver is having no trouble finding the optimal solution, and wish to focus more</span>
  <span class=hljs-comment ># attention on proving optimality, select MIPFocus=2.</span>
  <span class=hljs-comment ># If the best objective bound is moving very slowly (or not at all), you may want to try MIPFocus=3 to focus on the bound.</span>


  set_optimizer_attribute(nonlinear_model, <span class=hljs-string >&quot;NonConvex&quot;</span>, <span class=hljs-number >2</span>)
  <span class=hljs-comment ># &quot;NonConvex&quot; =&gt; 2 tells Gurobi to use its nonconvex algorithm</span>

  <span class=hljs-comment ># declare the variable along with the non-negativity constraitn</span>
  <span class=hljs-meta >@variable</span>(nonlinear_model, x[<span class=hljs-number >1</span>:d] &gt;=<span class=hljs-number >0</span> )

  <span class=hljs-comment ># warm starting using Gurobi.jl</span>
  <span class=hljs-keyword >if</span>  start_value_provided == :on &amp;&amp; warm_start_type == :Gurobi_direct
    <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:d
        MOI.set(nonlinear_model, Gurobi.VariableAttribute(<span class=hljs-string >&quot;Start&quot;</span>), x[i], x_start_value[i])
    <span class=hljs-keyword >end</span>
  <span class=hljs-keyword >end</span>

  <span class=hljs-comment ># warm starting using JuMP</span>
  <span class=hljs-keyword >if</span>  start_value_provided == :on &amp;&amp; warm_start_type == :JuMP
    <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:d
        set_start_value(x[i], x_start_value[i])
    <span class=hljs-keyword >end</span>
  <span class=hljs-keyword >end</span>

  <span class=hljs-comment ># add objective</span>
  <span class=hljs-meta >@objective</span>(nonlinear_model, Max, x[<span class=hljs-number >1</span>]*x[d] - x[<span class=hljs-number >2</span>]*x[d-<span class=hljs-number >1</span>])

  <span class=hljs-comment ># add the constraint Σx[i] &lt;= 10</span>
  <span class=hljs-meta >@constraint</span>(nonlinear_model, sum(x[i] <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:d) &lt;= <span class=hljs-number >10</span>)

  <span class=hljs-comment ># add the bilinear inequality constraint ∀i  x[i]x[i+1] &lt;= 2</span>
  <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:d-<span class=hljs-number >1</span>
    <span class=hljs-meta >@constraint</span>(nonlinear_model, x[i]*x[i+<span class=hljs-number >1</span>] &lt;= <span class=hljs-number >2</span>)
  <span class=hljs-keyword >end</span>

  <span class=hljs-comment ># add the bilinear equality constraint ∑_{i} x[i]x[i+1] == 1</span>
  <span class=hljs-meta >@constraint</span>(nonlinear_model, sum(x[i]*x[i+<span class=hljs-number >1</span>] <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:d-<span class=hljs-number >1</span>) == <span class=hljs-number >1</span>)

  <span class=hljs-comment ># optimize the model</span>
  <span class=hljs-keyword >if</span> silent_flag == :on
     set_silent(nonlinear_model)
   <span class=hljs-keyword >end</span>
  optimize!(nonlinear_model)

  <span class=hljs-comment ># store the important values and return them</span>
  status = JuMP.termination_status(nonlinear_model)
  x_sol = JuMP.value.(x)
  obj_value = JuMP.objective_value(nonlinear_model)

  <span class=hljs-keyword >return</span> status, x_sol, obj_value

<span class=hljs-keyword >end</span></code></pre> <h3 id=solve_from_scratch ><a href="#solve_from_scratch" class=header-anchor >Solve from scratch</a></h3> <pre><code class="julia hljs">d = <span class=hljs-number >10</span>
status, x_sol, obj_value =  solve_bilinear(d; start_value_provided = :off, x_start_value = zeros(d), warm_start_type = :none, silent_flag = :off)</code></pre> <p>The output is:</p> <pre><code class="julia hljs">Continuous model is non-convex -- solving as a MIP.

Presolve time: <span class=hljs-number >0.02</span>s
Presolved: <span class=hljs-number >61</span> rows, <span class=hljs-number >22</span> columns, <span class=hljs-number >120</span> nonzeros
Presolved model has <span class=hljs-number >20</span> bilinear constraint(s)
Variable types: <span class=hljs-number >22</span> continuous, <span class=hljs-number >0</span> integer (<span class=hljs-number >0</span> binary)
Presolve removed <span class=hljs-number >39</span> rows and <span class=hljs-number >2</span> columns
Presolved: <span class=hljs-number >22</span> rows, <span class=hljs-number >20</span> columns, <span class=hljs-number >59</span> nonzeros


Root relaxation: objective <span class=hljs-number >4.955556e+01</span>, <span class=hljs-number >19</span> iterations, <span class=hljs-number >0.01</span> seconds

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>   <span class=hljs-number >49.55556</span>    <span class=hljs-number >0</span>   <span class=hljs-number >11</span>          -   <span class=hljs-number >49.55556</span>      -     -    <span class=hljs-number >0</span>s
     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>   <span class=hljs-number >25.21339</span>    <span class=hljs-number >0</span>    <span class=hljs-number >2</span>          -   <span class=hljs-number >25.21339</span>      -     -    <span class=hljs-number >0</span>s
     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>   <span class=hljs-number >25.10018</span>    <span class=hljs-number >0</span>   <span class=hljs-number >11</span>          -   <span class=hljs-number >25.10018</span>      -     -    <span class=hljs-number >0</span>s
     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>   <span class=hljs-number >25.09269</span>    <span class=hljs-number >0</span>   <span class=hljs-number >11</span>          -   <span class=hljs-number >25.09269</span>      -     -    <span class=hljs-number >0</span>s
     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>   <span class=hljs-number >25.03708</span>    <span class=hljs-number >0</span>   <span class=hljs-number >10</span>          -   <span class=hljs-number >25.03708</span>      -     -    <span class=hljs-number >0</span>s
     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>   <span class=hljs-number >25.00988</span>    <span class=hljs-number >0</span>   <span class=hljs-number >10</span>          -   <span class=hljs-number >25.00988</span>      -     -    <span class=hljs-number >0</span>s
     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>   <span class=hljs-number >24.99742</span>    <span class=hljs-number >0</span>   <span class=hljs-number >10</span>          -   <span class=hljs-number >24.99742</span>      -     -    <span class=hljs-number >0</span>s
     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>   <span class=hljs-number >24.99291</span>    <span class=hljs-number >0</span>   <span class=hljs-number >10</span>          -   <span class=hljs-number >24.99291</span>      -     -    <span class=hljs-number >0</span>s
H    <span class=hljs-number >0</span>     <span class=hljs-number >0</span>                    -<span class=hljs-number >100.0000000</span>   <span class=hljs-number >24.99291</span>   <span class=hljs-number >125</span>%     -    <span class=hljs-number >0</span>s
H    <span class=hljs-number >0</span>     <span class=hljs-number >0</span>                      <span class=hljs-number >23.9993796</span>   <span class=hljs-number >24.99291</span>  <span class=hljs-number >4.14</span>%     -    <span class=hljs-number >0</span>s
     <span class=hljs-number >0</span>     <span class=hljs-number >2</span>   <span class=hljs-number >24.99291</span>    <span class=hljs-number >0</span>   <span class=hljs-number >10</span>   <span class=hljs-number >23.99938</span>   <span class=hljs-number >24.99291</span>  <span class=hljs-number >4.14</span>%     -    <span class=hljs-number >0</span>s

Cutting planes:
  RLT: <span class=hljs-number >22</span>

Explored <span class=hljs-number >81</span> nodes (<span class=hljs-number >380</span> simplex iterations) <span class=hljs-keyword >in</span> <span class=hljs-number >0.18</span> seconds
Thread count was <span class=hljs-number >8</span> (of <span class=hljs-number >8</span> available processors)

Solution count <span class=hljs-number >2</span>: <span class=hljs-number >23.9994</span> -<span class=hljs-number >100</span>

Optimal solution found (tolerance <span class=hljs-number >1.00e-04</span>)
Best objective <span class=hljs-number >2.399937963333e+01</span>, best bound <span class=hljs-number >2.400151700222e+01</span>, gap <span class=hljs-number >0.0089</span>%

User-callback calls <span class=hljs-number >298</span>, time <span class=hljs-keyword >in</span> user-callback <span class=hljs-number >0.01</span> sec</code></pre> <p>Let us benchmark the results.</p> <pre><code class="julia hljs">b1 = <span class=hljs-meta >@benchmark</span> solve_bilinear(d; start_value_provided = :off, x_start_value = zeros(d), warm_start_type = :none,  silent_flag = :on)
println(<span class=hljs-string >&quot;benchmark for original code without start value&quot;</span>)
println(<span class=hljs-string >&quot;***************************&quot;</span>)
io = <span class=hljs-built_in >IOBuffer</span>()
show(io, <span class=hljs-string >&quot;text/plain&quot;</span>, b1)
s = <span class=hljs-built_in >String</span>(take!(io))
println(s)</code></pre> <p>Benchmarked output is as follows.</p> <pre><code class="julia hljs">benchmark <span class=hljs-keyword >for</span> original code without start value
***************************
BenchmarkTools.Trial:
  memory estimate:  <span class=hljs-number >48.24</span> KiB
  allocs estimate:  <span class=hljs-number >884</span>
  --------------
  minimum time:     <span class=hljs-number >45.491</span> ms (<span class=hljs-number >0.00</span>% GC)
  median time:      <span class=hljs-number >55.348</span> ms (<span class=hljs-number >0.00</span>% GC)
  mean time:        <span class=hljs-number >56.950</span> ms (<span class=hljs-number >0.00</span>% GC)
  maximum time:     <span class=hljs-number >70.355</span> ms (<span class=hljs-number >0.00</span>% GC)
  --------------
  samples:          <span class=hljs-number >88</span>
  evals/sample:     <span class=hljs-number >1</span></code></pre> <h3 id=warm-starting_gurobi_with_a_known_feasible_solution ><a href="#warm-starting_gurobi_with_a_known_feasible_solution" class=header-anchor >Warm-starting <code>Gurobi</code> with a known feasible solution</a></h3> <p>What if we have a good guess of a solution for this problem? In that case, we can feed that vaue using <code>set_start_value&#40;variable_name, variable_start_value&#41;</code> function or <code>MOI.set&#40;nonlinear_model, Gurobi.VariableAttribute&#40;&quot;Start&quot;&#41;, variable_name, variable_start_value&#41;</code>. To test this, we just feed the optimal solution that we just found to test if the warm-starting is working.</p> <h3 id=warm-starting_via_jump ><a href="#warm-starting_via_jump" class=header-anchor >Warm-starting via <code>JuMP</code></a></h3> <pre><code class="julia hljs">status_2, x_sol_2, obj_value_2 = solve_bilinear(d; start_value_provided = :on, x_start_value = x_sol, warm_start_type = :JuMP, silent_flag = :off)</code></pre>
<p>The output is:</p>
<pre><code class="julia hljs">Continuous model is non-convex -- solving as a MIP.


Loaded user MIP start with objective <span class=hljs-number >23.9994</span>

Presolve time: <span class=hljs-number >0.00</span>s
Presolved: <span class=hljs-number >61</span> rows, <span class=hljs-number >22</span> columns, <span class=hljs-number >120</span> nonzeros
Presolved model has <span class=hljs-number >20</span> bilinear constraint(s)
Variable types: <span class=hljs-number >22</span> continuous, <span class=hljs-number >0</span> integer (<span class=hljs-number >0</span> binary)
Presolve removed <span class=hljs-number >39</span> rows and <span class=hljs-number >2</span> columns
Presolved: <span class=hljs-number >22</span> rows, <span class=hljs-number >20</span> columns, <span class=hljs-number >59</span> nonzeros


Root relaxation: objective <span class=hljs-number >4.955556e+01</span>, <span class=hljs-number >19</span> iterations, <span class=hljs-number >0.00</span> seconds

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>   <span class=hljs-number >49.55556</span>    <span class=hljs-number >0</span>   <span class=hljs-number >11</span>   <span class=hljs-number >23.99938</span>   <span class=hljs-number >49.55556</span>   <span class=hljs-number >106</span>%     -    <span class=hljs-number >0</span>s
     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>   <span class=hljs-number >25.21341</span>    <span class=hljs-number >0</span>    <span class=hljs-number >2</span>   <span class=hljs-number >23.99938</span>   <span class=hljs-number >25.21341</span>  <span class=hljs-number >5.06</span>%     -    <span class=hljs-number >0</span>s
     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>   <span class=hljs-number >25.09295</span>    <span class=hljs-number >0</span>    <span class=hljs-number >8</span>   <span class=hljs-number >23.99938</span>   <span class=hljs-number >25.09295</span>  <span class=hljs-number >4.56</span>%     -    <span class=hljs-number >0</span>s
     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>   <span class=hljs-number >25.03730</span>    <span class=hljs-number >0</span>   <span class=hljs-number >10</span>   <span class=hljs-number >23.99938</span>   <span class=hljs-number >25.03730</span>  <span class=hljs-number >4.32</span>%     -    <span class=hljs-number >0</span>s
     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>   <span class=hljs-number >25.01008</span>    <span class=hljs-number >0</span>   <span class=hljs-number >11</span>   <span class=hljs-number >23.99938</span>   <span class=hljs-number >25.01008</span>  <span class=hljs-number >4.21</span>%     -    <span class=hljs-number >0</span>s
     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>   <span class=hljs-number >24.99757</span>    <span class=hljs-number >0</span>    <span class=hljs-number >6</span>   <span class=hljs-number >23.99938</span>   <span class=hljs-number >24.99757</span>  <span class=hljs-number >4.16</span>%     -    <span class=hljs-number >0</span>s
     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>   <span class=hljs-number >24.99757</span>    <span class=hljs-number >0</span>   <span class=hljs-number >10</span>   <span class=hljs-number >23.99938</span>   <span class=hljs-number >24.99757</span>  <span class=hljs-number >4.16</span>%     -    <span class=hljs-number >0</span>s
     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>   <span class=hljs-number >24.99299</span>    <span class=hljs-number >0</span>    <span class=hljs-number >7</span>   <span class=hljs-number >23.99938</span>   <span class=hljs-number >24.99299</span>  <span class=hljs-number >4.14</span>%     -    <span class=hljs-number >0</span>s
     <span class=hljs-number >0</span>     <span class=hljs-number >2</span>   <span class=hljs-number >24.99299</span>    <span class=hljs-number >0</span>    <span class=hljs-number >7</span>   <span class=hljs-number >23.99938</span>   <span class=hljs-number >24.99299</span>  <span class=hljs-number >4.14</span>%     -    <span class=hljs-number >0</span>s

Cutting planes:
  RLT: <span class=hljs-number >22</span>

Explored <span class=hljs-number >81</span> nodes (<span class=hljs-number >440</span> simplex iterations) <span class=hljs-keyword >in</span> <span class=hljs-number >0.08</span> seconds
Thread count was <span class=hljs-number >8</span> (of <span class=hljs-number >8</span> available processors)

Solution count <span class=hljs-number >1</span>: <span class=hljs-number >23.9994</span>

Optimal solution found (tolerance <span class=hljs-number >1.00e-04</span>)
Best objective <span class=hljs-number >2.399937963333e+01</span>, best bound <span class=hljs-number >2.400120366930e+01</span>, gap <span class=hljs-number >0.0076</span>%

User-callback calls <span class=hljs-number >274</span>, time <span class=hljs-keyword >in</span> user-callback <span class=hljs-number >0.00</span> sec</code></pre>
<pre><code class="julia hljs">b2 = <span class=hljs-meta >@benchmark</span> solve_bilinear(d; start_value_provided = :on, x_start_value = x_sol, warm_start_type = :JuMP, silent_flag = :on)
println(<span class=hljs-string >&quot;benchmark for original code with start value via JuMP&quot;</span>)
println(<span class=hljs-string >&quot;***************************&quot;</span>)
io = <span class=hljs-built_in >IOBuffer</span>()
show(io, <span class=hljs-string >&quot;text/plain&quot;</span>, b2)
s = <span class=hljs-built_in >String</span>(take!(io))
println(s)</code></pre>
<p>The benchmarking result is as follows.</p>
<pre><code class="julia hljs">benchmark <span class=hljs-keyword >for</span> original code with start value via JuMP
***************************
BenchmarkTools.Trial:
  memory estimate:  <span class=hljs-number >48.43</span> KiB
  allocs estimate:  <span class=hljs-number >904</span>
  --------------
  minimum time:     <span class=hljs-number >43.148</span> ms (<span class=hljs-number >0.00</span>% GC)
  median time:      <span class=hljs-number >47.913</span> ms (<span class=hljs-number >0.00</span>% GC)
  mean time:        <span class=hljs-number >49.426</span> ms (<span class=hljs-number >0.00</span>% GC)
  maximum time:     <span class=hljs-number >84.259</span> ms (<span class=hljs-number >0.00</span>% GC)
  --------------
  samples:          <span class=hljs-number >102</span>
  evals/sample:     <span class=hljs-number >1</span></code></pre>
<h3 id=warm-starting_via_gurobijl ><a href="#warm-starting_via_gurobijl" class=header-anchor >Warm-starting via <code>Gurobi.jl</code></a></h3>
<pre><code class="julia hljs">status_3, x_sol_3, obj_value_3 = solve_bilinear(d; start_value_provided = :on, x_start_value = x_sol, warm_start_type =  :Gurobi_direct, silent_flag = :off)</code></pre>
<p>The output is:</p>
<pre><code class="julia hljs">Continuous model is non-convex -- solving as a MIP.


Loaded user MIP start with objective <span class=hljs-number >23.9994</span>

Presolve time: <span class=hljs-number >0.00</span>s
Presolved: <span class=hljs-number >61</span> rows, <span class=hljs-number >22</span> columns, <span class=hljs-number >120</span> nonzeros
Presolved model has <span class=hljs-number >20</span> bilinear constraint(s)
Variable types: <span class=hljs-number >22</span> continuous, <span class=hljs-number >0</span> integer (<span class=hljs-number >0</span> binary)
Presolve removed <span class=hljs-number >39</span> rows and <span class=hljs-number >2</span> columns
Presolved: <span class=hljs-number >22</span> rows, <span class=hljs-number >20</span> columns, <span class=hljs-number >59</span> nonzeros


Root relaxation: objective <span class=hljs-number >4.955556e+01</span>, <span class=hljs-number >19</span> iterations, <span class=hljs-number >0.00</span> seconds

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>   <span class=hljs-number >49.55556</span>    <span class=hljs-number >0</span>   <span class=hljs-number >11</span>   <span class=hljs-number >23.99938</span>   <span class=hljs-number >49.55556</span>   <span class=hljs-number >106</span>%     -    <span class=hljs-number >0</span>s
     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>   <span class=hljs-number >25.21341</span>    <span class=hljs-number >0</span>    <span class=hljs-number >2</span>   <span class=hljs-number >23.99938</span>   <span class=hljs-number >25.21341</span>  <span class=hljs-number >5.06</span>%     -    <span class=hljs-number >0</span>s
     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>   <span class=hljs-number >25.09295</span>    <span class=hljs-number >0</span>    <span class=hljs-number >8</span>   <span class=hljs-number >23.99938</span>   <span class=hljs-number >25.09295</span>  <span class=hljs-number >4.56</span>%     -    <span class=hljs-number >0</span>s
     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>   <span class=hljs-number >25.03730</span>    <span class=hljs-number >0</span>   <span class=hljs-number >10</span>   <span class=hljs-number >23.99938</span>   <span class=hljs-number >25.03730</span>  <span class=hljs-number >4.32</span>%     -    <span class=hljs-number >0</span>s
     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>   <span class=hljs-number >25.01008</span>    <span class=hljs-number >0</span>   <span class=hljs-number >11</span>   <span class=hljs-number >23.99938</span>   <span class=hljs-number >25.01008</span>  <span class=hljs-number >4.21</span>%     -    <span class=hljs-number >0</span>s
     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>   <span class=hljs-number >24.99757</span>    <span class=hljs-number >0</span>    <span class=hljs-number >6</span>   <span class=hljs-number >23.99938</span>   <span class=hljs-number >24.99757</span>  <span class=hljs-number >4.16</span>%     -    <span class=hljs-number >0</span>s
     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>   <span class=hljs-number >24.99757</span>    <span class=hljs-number >0</span>   <span class=hljs-number >10</span>   <span class=hljs-number >23.99938</span>   <span class=hljs-number >24.99757</span>  <span class=hljs-number >4.16</span>%     -    <span class=hljs-number >0</span>s
     <span class=hljs-number >0</span>     <span class=hljs-number >0</span>   <span class=hljs-number >24.99299</span>    <span class=hljs-number >0</span>    <span class=hljs-number >7</span>   <span class=hljs-number >23.99938</span>   <span class=hljs-number >24.99299</span>  <span class=hljs-number >4.14</span>%     -    <span class=hljs-number >0</span>s
     <span class=hljs-number >0</span>     <span class=hljs-number >2</span>   <span class=hljs-number >24.99299</span>    <span class=hljs-number >0</span>    <span class=hljs-number >7</span>   <span class=hljs-number >23.99938</span>   <span class=hljs-number >24.99299</span>  <span class=hljs-number >4.14</span>%     -    <span class=hljs-number >0</span>s

Cutting planes:
  RLT: <span class=hljs-number >22</span>

Explored <span class=hljs-number >81</span> nodes (<span class=hljs-number >440</span> simplex iterations) <span class=hljs-keyword >in</span> <span class=hljs-number >0.09</span> seconds
Thread count was <span class=hljs-number >8</span> (of <span class=hljs-number >8</span> available processors)

Solution count <span class=hljs-number >1</span>: <span class=hljs-number >23.9994</span>

Optimal solution found (tolerance <span class=hljs-number >1.00e-04</span>)
Best objective <span class=hljs-number >2.399937963333e+01</span>, best bound <span class=hljs-number >2.400120366930e+01</span>, gap <span class=hljs-number >0.0076</span>%

User-callback calls <span class=hljs-number >267</span>, time <span class=hljs-keyword >in</span> user-callback <span class=hljs-number >0.00</span> sec</code></pre>
<p>Let&#39;s take a look at the benchmarking output for this case.</p>
<pre><code class="julia hljs">b3 = <span class=hljs-meta >@benchmark</span> solve_bilinear(d; start_value_provided = :on, x_start_value = x_sol, warm_start_type = :Gurobi_direct, silent_flag = :on)
println(<span class=hljs-string >&quot;benchmark for original code with start value via Gurobi.jl&quot;</span>)
println(<span class=hljs-string >&quot;***************************&quot;</span>)
io = <span class=hljs-built_in >IOBuffer</span>()
show(io, <span class=hljs-string >&quot;text/plain&quot;</span>, b3)
s = <span class=hljs-built_in >String</span>(take!(io))
println(s)</code></pre>
<p>The output is as follows this time.</p>
<pre><code class="julia hljs">benchmark <span class=hljs-keyword >for</span> original code with start value via Gurobi.jl
***************************
BenchmarkTools.Trial:
  memory estimate:  <span class=hljs-number >48.46</span> KiB
  allocs estimate:  <span class=hljs-number >910</span>
  --------------
  minimum time:     <span class=hljs-number >31.733</span> ms (<span class=hljs-number >0.00</span>% GC)
  median time:      <span class=hljs-number >36.254</span> ms (<span class=hljs-number >0.00</span>% GC)
  mean time:        <span class=hljs-number >37.185</span> ms (<span class=hljs-number >0.00</span>% GC)
  maximum time:     <span class=hljs-number >73.067</span> ms (<span class=hljs-number >0.00</span>% GC)
  --------------
  samples:          <span class=hljs-number >135</span>
  evals/sample:     <span class=hljs-number >1</span></code></pre>
<p>We see that in both warm-starting procedures, <code>Gurobi</code> accepts the provided solution, which makes the branch and bound method work somewhat better &#40;number of explored nodes goes down from 397 to 225 after warm-starting&#41;. Of course, because the problem size is small, it does not impact the runtime significantly.</p>
<h3 id=finding_a_locally_optimal_solution_using_knitro ><a href="#finding_a_locally_optimal_solution_using_knitro" class=header-anchor >Finding a locally optimal solution using <code>KNITRO</code></a></h3>
<pre><code class="julia hljs"><span class=hljs-keyword >using</span> JuMP, KNITRO
<span class=hljs-keyword >function</span> solve_bilinear_locally_KNITRO(d; start_value_provided = :off, x_start_value = zeros(d), warm_start_type = :none, silent_flag = :off)

  <span class=hljs-comment ># declare the model</span>
  <span class=hljs-comment ># -----------------</span>

  nonlinear_model = Model(optimizer_with_attributes(KNITRO.Optimizer, <span class=hljs-string >&quot;convex&quot;</span> =&gt; <span class=hljs-number >0</span>))

  <span class=hljs-comment ># declare the variable along with the non-negativity constraitn</span>
  <span class=hljs-meta >@variable</span>(nonlinear_model, x[<span class=hljs-number >1</span>:d] &gt;=<span class=hljs-number >0</span> )


  <span class=hljs-comment ># warm starting using JuMP</span>
  <span class=hljs-keyword >if</span>  start_value_provided == :on
    <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:d
        set_start_value(x[i], x_start_value[i])
    <span class=hljs-keyword >end</span>
  <span class=hljs-keyword >end</span>

  <span class=hljs-comment ># add objective</span>
  <span class=hljs-meta >@objective</span>(nonlinear_model, Max, x[<span class=hljs-number >1</span>]*x[d] - x[<span class=hljs-number >2</span>]*x[d-<span class=hljs-number >1</span>])

  <span class=hljs-comment ># add the constraint Σx[i] &lt;= 10</span>
  <span class=hljs-meta >@constraint</span>(nonlinear_model, sum(x[i] <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:d) &lt;= <span class=hljs-number >10</span>)

  <span class=hljs-comment ># add the bilinear inequality constraint ∀i  x[i]x[i+1] &lt;= 2</span>
  <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:d-<span class=hljs-number >1</span>
    <span class=hljs-meta >@constraint</span>(nonlinear_model, x[i]*x[i+<span class=hljs-number >1</span>] &lt;= <span class=hljs-number >2</span>)
  <span class=hljs-keyword >end</span>

  <span class=hljs-comment ># add the bilinear equality constraint ∑_{i} x[i]x[i+1] == 1</span>
  <span class=hljs-meta >@constraint</span>(nonlinear_model, sum(x[i]*x[i+<span class=hljs-number >1</span>] <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:d-<span class=hljs-number >1</span>) == <span class=hljs-number >1</span>)

  <span class=hljs-comment ># optimize the model</span>
  <span class=hljs-keyword >if</span> silent_flag == :on
     set_silent(nonlinear_model)
   <span class=hljs-keyword >end</span>
  optimize!(nonlinear_model)

  <span class=hljs-comment ># store the important values and return them</span>
  status = JuMP.termination_status(nonlinear_model)
  x_sol = JuMP.value.(x)
  obj_value = JuMP.objective_value(nonlinear_model)

  <span class=hljs-keyword >return</span> status, x_sol, obj_value

<span class=hljs-keyword >end</span></code></pre>
<p>Solve the problem to local optimality using <code>KNITRO</code>.</p>
<pre><code class="julia hljs">d = <span class=hljs-number >10</span>
status_KNITRO, x_sol_KNITRO, obj_value_KNITRO = solve_bilinear_locally_KNITRO(d; start_value_provided = :off, x_start_value = zeros(d), warm_start_type = :none, silent_flag = :off)</code></pre>
<p>The output is:</p>
<pre><code class="julia hljs">=======================================
             Trial License
       (NOT FOR COMMERCIAL USE)
         Artelys Knitro <span class=hljs-number >12.3</span><span class=hljs-number >.0</span>
=======================================

Knitro presolve eliminated <span class=hljs-number >0</span> variables and <span class=hljs-number >0</span> constraints.

convex:                  <span class=hljs-number >0</span>
datacheck:               <span class=hljs-number >0</span>
hessian_no_f:            <span class=hljs-number >1</span>
The problem is identified as a QCQP.

Problem Characteristics                                 (   Presolved)
-----------------------
Objective goal:  Maximize
Objective type:  quadratic
<span class=hljs-built_in >Number</span> of variables:                                 <span class=hljs-number >10</span> (          <span class=hljs-number >10</span>)
    bounded below only:                              <span class=hljs-number >10</span> (          <span class=hljs-number >10</span>)
    bounded above only:                               <span class=hljs-number >0</span> (           <span class=hljs-number >0</span>)
    bounded below and above:                          <span class=hljs-number >0</span> (           <span class=hljs-number >0</span>)
    fixed:                                            <span class=hljs-number >0</span> (           <span class=hljs-number >0</span>)
    free:                                             <span class=hljs-number >0</span> (           <span class=hljs-number >0</span>)
<span class=hljs-built_in >Number</span> of constraints:                               <span class=hljs-number >11</span> (          <span class=hljs-number >11</span>)
    linear equalities:                                <span class=hljs-number >0</span> (           <span class=hljs-number >0</span>)
    quadratic equalities:                             <span class=hljs-number >1</span> (           <span class=hljs-number >1</span>)
    gen. nonlinear equalities:                        <span class=hljs-number >0</span> (           <span class=hljs-number >0</span>)
    linear one-sided inequalities:                    <span class=hljs-number >1</span> (           <span class=hljs-number >1</span>)
    quadratic one-sided inequalities:                 <span class=hljs-number >9</span> (           <span class=hljs-number >9</span>)
    gen. nonlinear one-sided inequalities:            <span class=hljs-number >0</span> (           <span class=hljs-number >0</span>)
    linear two-sided inequalities:                    <span class=hljs-number >0</span> (           <span class=hljs-number >0</span>)
    quadratic two-sided inequalities:                 <span class=hljs-number >0</span> (           <span class=hljs-number >0</span>)
    gen. nonlinear two-sided inequalities:            <span class=hljs-number >0</span> (           <span class=hljs-number >0</span>)
<span class=hljs-built_in >Number</span> of nonzeros <span class=hljs-keyword >in</span> Jacobian:                      <span class=hljs-number >38</span> (          <span class=hljs-number >38</span>)
<span class=hljs-built_in >Number</span> of nonzeros <span class=hljs-keyword >in</span> Hessian:                       <span class=hljs-number >11</span> (          <span class=hljs-number >11</span>)

Knitro <span class=hljs-keyword >using</span> the Interior-Point/Barrier Direct algorithm.

  Iter      Objective      FeasError   OptError    ||Step||    CGits
--------  --------------  ----------  ----------  ----------  -------
       <span class=hljs-number >0</span>    <span class=hljs-number >0.000000e+00</span>   <span class=hljs-number >1.000e+00</span>
      <span class=hljs-number >10</span>    <span class=hljs-number >9.413565e-01</span>   <span class=hljs-number >8.790e-02</span>   <span class=hljs-number >8.971e-01</span>   <span class=hljs-number >1.222e-01</span>        <span class=hljs-number >0</span>
      <span class=hljs-number >20</span>    <span class=hljs-number >2.397843e+01</span>   <span class=hljs-number >1.159e-05</span>   <span class=hljs-number >9.642e-03</span>   <span class=hljs-number >1.307e-02</span>        <span class=hljs-number >0</span>
      <span class=hljs-number >25</span>    <span class=hljs-number >2.400000e+01</span>   <span class=hljs-number >6.485e-07</span>   <span class=hljs-number >9.957e-08</span>   <span class=hljs-number >1.186e-03</span>        <span class=hljs-number >0</span>

EXIT: Locally optimal solution found.

Final Statistics
----------------
Final objective value               =   <span class=hljs-number >2.39999992955648e+01</span>
Final feasibility error (abs / rel) =   <span class=hljs-number >6.48e-07</span> / <span class=hljs-number >6.48e-07</span>
Final optimality error  (abs / rel) =   <span class=hljs-number >9.96e-08</span> / <span class=hljs-number >1.99e-08</span>
<span class=hljs-comment ># of iterations                     =         25</span>
<span class=hljs-comment ># of CG iterations                  =          9</span>
<span class=hljs-comment ># of function evaluations           =          0</span>
<span class=hljs-comment ># of gradient evaluations           =          0</span>
<span class=hljs-comment ># of Hessian evaluations            =          0</span>
Total program time (secs)           =       <span class=hljs-number >0.029</span> (     <span class=hljs-number >0.000</span> CPU time)
Time spent <span class=hljs-keyword >in</span> evaluations (secs)    =       <span class=hljs-number >0.000</span></code></pre>
<p>Note that <code>KNITRO</code> is providing the same objective value as <code>Gurobi</code>, but is not able certify the global optimality.</p>
<h3 id=some_helpful_online_links_on_speeding_up_the_solution_process ><a href="#some_helpful_online_links_on_speeding_up_the_solution_process" class=header-anchor >Some helpful online links on speeding up the solution process</a></h3>
<ol>
<li><p><a href="https://support.gurobi.com/hc/en-us/articles/360043834831-How-do-I-use-MIP-starts-">How do I use MIP starts</a></p>

<li><p><a href="https://support.gurobi.com/hc/en-us/community/posts/360075269952-Warmstart-or-VarHintVal-in-QP-Python-API">Warmstart or VarHintVal in QP Python API</a></p>

<li><p><a href="https://www.gurobi.com/documentation/9.1/refman/mip_models.html">Most important parameters for MIP models</a></p>

</ol>
<div class=page-foot >
  <div class=copyright >
    &copy; Shuvomoy Das Gupta. Last modified: November 23, 2023. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>.
  </div>
</div>
</div>
        </div> 
    </div>