<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/blogs/libs/katex/katex.min.css"> <link rel=stylesheet  href="/blogs/libs/highlight/github.min.css"> <link rel=stylesheet  href="/blogs/css/franklin.css"> <link rel=stylesheet  href="/blogs/css/tufte.css"> <link rel=stylesheet  href="/blogs/css/latex.css"> <link rel=stylesheet  href="/blogs/css/adjust.css"> <link rel=stylesheet  href="/blogs/css/FranklinTheorems.css"> <link rel=icon  href="/blogs/assets/favicon.png"> <title>Solving transportation problems in Julia+JuMP</title> <link rel=icon  href="/blogs/assets/favicon.ico"> <script src="/blogs/libs/lunr/lunr.min.js"></script> <script src="/blogs/libs/lunr/lunr_index.js"></script> <script src="/blogs/libs/lunr/lunrclient.min.js"></script> <div id=layout > <div id=menu > <ul> <li><a href="/blogs/">Blogs</a> <li><a href="/blogs/index.html#tags">Tags</a> <li><a href="https://shuvomoy.github.io/">Website</a> <li><form id=lunrSearchForm  name=lunrSearchForm > <input class=search-input  name=q  placeholder=" " type=text > <input type=submit  value=Search  formaction="/blogs/search/index.html"> </form> </ul> </div> <div id=main > <!-- Content appended here .result-title a { text-decoration: none; } .result-title a:hover { text-decoration: underline; } .result-preview { color: #808080; } .resultCount { color: #808080; } .result-query { font-weight: bold; } #lunrSearchForm { margin-top: 1em; } --> <div class=franklin-content ><h1 id=solving_transportation_problems_in_julia_and_jump ><a href="#solving_transportation_problems_in_julia_and_jump" class=header-anchor >Solving transportation problems in Julia and JuMP</a></h1> <p><strong>Shuvomoy Das Gupta</strong></p> <p><em>February 3, 2021</em></p> <p>In this blog, we will discuss how to solve a simple transportation problem in <code>JuMP&#43;Julia</code>, that exploits sparsity. This blog is based on an earlier notebook I created a few years ago. The blog is written using the package <code>Weave.jl</code>. </p> <hr /> <p><strong>Table of contents</strong></p> <div class=franklin-toc ><ol><li><a href="#introduction">Introduction</a><li><a href="#a_test_example_transportation_problem">A test example: transportation problem</a><li><a href="#defining_types_structures_via_struct">Defining types &#40;structures&#41; via <code>struct</code></a><li><a href="#creating_new_arrays_efficiently_from_existing_arrays">Creating new arrays efficiently from existing arrays</a><li><a href="#efficiently_constructing_dictionary_of_structs">Efficiently constructing dictionary of <code>struct</code>s</a><li><a href="#mathematical_representation_of_the_transportation_problem">Mathematical representation of the transportation problem</a><li><a href="#data_file">Data file</a><li><a href="#solve_using_jump">Solve using <code>JuMP</code></a></ol></div> <hr /> <h4 id=introduction ><a href="#introduction" class=header-anchor >Introduction</a></h4> <p><strong>What is a sparse data structure?</strong></p> <p>A sparse data structure is one that has a lot of zeros in it. If a matrix has many more zeros than nonzeros, then it is a sparse matrix.</p> <p><strong>Why do we need to exploit sparsity?</strong></p> <ul> <li><p>Sparsity in the input data increases with the dimension.</p> <li><p>Exploiting sparsity</p> <ul> <li><p>keeps the data size small</p> <li><p>saves memory</p> <li><p>reduces the running time</p> <li><p>improves the efficiency of the model</p> </ul> </ul> <p><strong>How to exploit sparsity in Julia?</strong></p> <ul> <li><p>Define <code>struct</code> and create a <code>dictionary</code> or an <code>array</code> of it.</p> </ul> <h4 id=a_test_example_transportation_problem ><a href="#a_test_example_transportation_problem" class=header-anchor >A test example: transportation problem</a></h4> <p>Consider a transportation problem which is going to be our test example:</p> <ul> <li><p><strong>Problem setup:</strong> Some products have to transported from origin cities to destination cities</p> </ul> <ul> <li><p><strong>Objective:</strong></p> <li><p>Minimize the total cost of shipment over all <strong>relevant</strong> routes</p> </ul> <ul> <li><p><strong>Decision Variables</strong></p> <li><p>Find the optimum amount of every product to be shipped from one city to another</p> </ul> <ul> <li><p><strong>Constraints</strong></p> <li><p>How much of a product a city can supply to other cities is fixed.</p> <li><p>The amount of any product demanded by a city is also fixed.</p> <li><p>The total amount of products shipped between every pair of different cities can not exceed a given limit.</p> </ul> <p>Suppose there are ten cities and three products in our problem.</p> <pre><code class="julia hljs">cities =
[
:BANGKOK; :LONDON; :PARIS; :SINGAPORE;  :NEWYORK;  :ISTANBUL;  :DUBAI;  :KUALALUMPUR;  :HONGKONG;  :BARCELONA
]

products   =
[
:smartphone; :tablet; :laptop
]</code></pre> <h4 id=defining_types_structures_via_struct ><a href="#defining_types_structures_via_struct" class=header-anchor >Defining types &#40;structures&#41; via <code>struct</code></a></h4> <p>If we do not exploit sparsity, then number of ways we can ship the products from one city to other will be <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>×</mo><msup><mo stretchy=false >(</mo><mn>10</mn></msup><msub><mi>P</mi><mn>2</mn></msub><mo>+</mo><mn>10</mn><mo stretchy=false >)</mo><mo>=</mo><mn>300</mn></mrow><annotation encoding="application/x-tex">3 \times (^{10}P_2+10)=300</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.72777em;vertical-align:-0.08333em;"></span><span class=mord >3</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >×</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1.064108em;vertical-align:-0.25em;"></span><span class=mopen ><span class=mopen >(</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span></span></span></span></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord >10</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.64444em;vertical-align:0em;"></span><span class=mord >300</span></span></span></span>.</p> <p>Clearly many of them will be redundant, because of reasons like</p> <ul> <li><p>a product might not be needed by a city</p> <li><p>a product might not be produced by a city etc.</p> </ul> <p>We just need to consider <em>relevant route</em>s, where a product can be shipped from one production city to the other demand city. So a <em>relevant route</em> can be defined by 3 features:</p> <ul> <li><p>a product</p> <li><p>a city that produces that product</p> <li><p>a city that demands that product</p> </ul> <p>So, we define an <code>struct</code> <code>Route</code> as follows:</p> <pre><code class="julia hljs"><span class=hljs-keyword >struct</span> Route
  p::<span class=hljs-built_in >Symbol</span> <span class=hljs-comment ># p stands for product</span>
  o::<span class=hljs-built_in >Symbol</span> <span class=hljs-comment ># o stands for origin</span>
  d::<span class=hljs-built_in >Symbol</span> <span class=hljs-comment ># d stands for destination</span>
<span class=hljs-keyword >end</span></code></pre> <p>Here the datatype <code>Symbol</code> is a special type of immutable string. Then we create an array of only relevant routes.</p> <pre><code class="julia hljs">routesExample =
[
Route(:smartphone,:BANGKOK,:SINGAPORE);
Route(:smartphone,:BANGKOK,:NEWYORK);
Route(:smartphone,:BANGKOK,:ISTANBUL);
Route(:smartphone,:BANGKOK,:DUBAI);
]</code></pre> <p>If we want to access <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span>th element of the array by typing in <code>routes&#91;i&#93;</code>. When we want to access the product name associated with the <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">it</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span></span></span></span>h element of the array, we can do so by typing <code>routes&#91;i&#93;.p</code>.</p> <pre><code class="julia hljs">routesExample[<span class=hljs-number >2</span>] <span class=hljs-comment ># Will give the second route</span></code></pre>
<pre><code class="julia hljs">routesExample[<span class=hljs-number >4</span>].d <span class=hljs-comment ># Will give the demand city of the 4th route</span></code></pre>
<h4 id=creating_new_arrays_efficiently_from_existing_arrays ><a href="#creating_new_arrays_efficiently_from_existing_arrays" class=header-anchor >Creating new arrays efficiently from existing arrays</a></h4>
<p>Often we need to create new arrays, where the elements of them are extracted from some already existing array conditionally.</p>
<p>Consider the immutable type <code>Supply</code>.</p>
<pre><code class="julia hljs"><span class=hljs-keyword >struct</span> Supply
  p::<span class=hljs-built_in >Symbol</span> <span class=hljs-comment ># p stands for product name</span>
  o::<span class=hljs-built_in >Symbol</span> <span class=hljs-comment ># o stands for the origin city</span>
<span class=hljs-keyword >end</span></code></pre>
<p>We want to create an array <code>suppliesExample</code>, that contains all relevant product-city pairs, where the particular product is produced in that city. Clearly we can construct this array by plucking each product and corresponding city producing it from <code>routesExample</code>. This is how we do it efficiently:</p>
<ul>
<li><p>Create an empty array of type <code>Supply</code></p>

<li><p>Add elements to this array by</p>

</ul>
<ul>
<li><p>selecting the product and origin from the elements of <code>routes</code></p>

<li><p><em>push</em>ing them one by one in <code>supplies</code></p>

</ul>
<pre><code class="julia hljs">suppliesExample = Supply[] <span class=hljs-comment ># Creates a 0 element array of immutable type Supply</span>
<span class=hljs-keyword >for</span> r <span class=hljs-keyword >in</span> routesExample <span class=hljs-comment ># For every element of the route route</span>
  push!(suppliesExample, Supply(r.p, r.o)) <span class=hljs-comment ># pick the product and origin city and push it in  supplies</span>
<span class=hljs-keyword >end</span></code></pre>
<pre><code class="julia hljs">suppliesExample</code></pre>
<h4 id=efficiently_constructing_dictionary_of_structs ><a href="#efficiently_constructing_dictionary_of_structs" class=header-anchor >Efficiently constructing dictionary of <code>struct</code>s</a></h4>
<p><strong>What is a dictionary?</strong> A dictionary is a data type which can be useful in exploiting sparsity.</p>
<p><strong>Why is it needed?</strong> Often we might be interested to index a variable by a composite data type, rather than a number. For example, for the transportation problem in consideration, it would be more convenient to index the decision variables in the routes that are present. Let</p>
<span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mtable rowspacing=0.2500em  columnalign=right  columnspacing=""><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mi>R</mi><mo>=</mo><mo stretchy=false >{</mo><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>o</mi><mo separator=true >,</mo><mi>d</mi><mo stretchy=false >)</mo><mo>∈</mo><mi>P</mi><mo>×</mo><mi>C</mi><mo>×</mo><mi>C</mi><mo>:</mo><mtext>product </mtext><mi>p</mi><mtext> has to be transported from city </mtext><mi>o</mi><mtext> to city </mtext><mi>d</mi><mo stretchy=false >}</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">
\begin{align*}
R=\{(p,o,d) \in P \times C \times C: \text{product } p \text{ has to be transported from city } o \text{ to city } d\}
\end{align*}
</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.5000000000000002em;vertical-align:-0.5000000000000002em;"></span><span class=mord ><span class=mtable ><span class=col-align-r ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1em;"><span style="top:-3.16em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mopen >{(</span><span class="mord mathnormal">p</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">o</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >×</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >×</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >:</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class="mord text"><span class=mord >product </span></span><span class="mord mathnormal">p</span><span class="mord text"><span class=mord > has to be transported from city </span></span><span class="mord mathnormal">o</span><span class="mord text"><span class=mord > to city </span></span><span class="mord mathnormal">d</span><span class=mclose >}</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.5000000000000002em;"><span></span></span></span></span></span></span></span></span></span></span></span>
<p>be the set of all the routes that are relevant for the problem. So, we can define our decision variable <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy=false >(</mo><msub><mi>x</mi><mrow><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>o</mi><mo separator=true >,</mo><mi>d</mi><mo stretchy=false >)</mo></mrow></msub><msub><mo stretchy=false >)</mo><mrow><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>o</mi><mo separator=true >,</mo><mi>d</mi><mo stretchy=false >)</mo><mo>∈</mo><mi>R</mi></mrow></msub></mrow><annotation encoding="application/x-tex">(x_{(p,o,d)})_{(p,o,d) \in R}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.1052em;vertical-align:-0.3551999999999999em;"></span><span class=mopen >(</span><span class=mord ><span class="mord mathnormal">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">o</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">d</span><span class="mclose mtight">)</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class=mclose ><span class=mclose >)</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">o</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">d</span><span class="mclose mtight">)</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3551999999999999em;"><span></span></span></span></span></span></span></span></span></span> ​  such that for any <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>o</mi><mo separator=true >,</mo><mi>d</mi><mo stretchy=false >)</mo><mo>∈</mo><mi>R</mi></mrow><annotation encoding="application/x-tex">(p,o,d)\in R</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >(</span><span class="mord mathnormal">p</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">o</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span>, the quantity <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mrow><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>o</mi><mo separator=true >,</mo><mi>d</mi><mo stretchy=false >)</mo></mrow></msub></mrow><annotation encoding="application/x-tex">x_{(p,o,d)}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.7857599999999999em;vertical-align:-0.3551999999999999em;"></span><span class=mord ><span class="mord mathnormal">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">o</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">d</span><span class="mclose mtight">)</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3551999999999999em;"><span></span></span></span></span></span></span></span></span></span> represents the amount of a product <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span></span></span></span> that is transported from city <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>o</mi></mrow><annotation encoding="application/x-tex">o</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">o</span></span></span></span>  to city <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">d</span></span></span></span>. From a data structure point of view, <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mo fence=true >(</mo><msub><mi>x</mi><mrow><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>o</mi><mo separator=true >,</mo><mi>d</mi><mo stretchy=false >)</mo></mrow></msub><mo fence=true >)</mo></mrow><mrow><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>o</mi><mo separator=true >,</mo><mi>d</mi><mo stretchy=false >)</mo><mo>∈</mo><mi>R</mi></mrow></msub></mrow><annotation encoding="application/x-tex"> \left(x_{(p,o,d)}\right)_{(p,o,d) \in R}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.4299em;vertical-align:-0.5798999999999999em;"></span><span class=minner ><span class=minner ><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class=mord ><span class="mord mathnormal">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">o</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">d</span><span class="mclose mtight">)</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.1201000000000001em;"><span style="top:-2.2951em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">o</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">d</span><span class="mclose mtight">)</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.5798999999999999em;"><span></span></span></span></span></span></span></span></span></span> is a dictionary which</p>
<ul>
<li><p>takes <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>o</mi><mo separator=true >,</mo><mi>d</mi><mo stretchy=false >)</mo><mo>∈</mo><mi>R</mi></mrow><annotation encoding="application/x-tex">(p,o,d) \in R</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >(</span><span class="mord mathnormal">p</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">o</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span> as its <strong>key</strong> and</p>

<li><p>has the <strong>value</strong> the optimum amount of the product <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span></span></span></span> to be shipped from city <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>o</mi></mrow><annotation encoding="application/x-tex">o</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">o</span></span></span></span> to city <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">d</span></span></span></span>.</p>

</ul>
<p><strong>Efficiently constructing dictionary of <code>struct</code>s.</strong> Suppose we want to create a dictionary  called <code>costRoutes</code>. Every element of the dictionary <code>costRoutes</code> contains the value of shipping cost along a particular route belonging to the array <code>routesExample</code>. So,</p>
<ul>
<li><p>the <strong>key</strong> to an element belonging to the dictionary is a specific route belonging to the array <code>routesExample</code>, and</p>

<li><p>the <strong>value</strong> is the cost for that shipment.</p>

</ul>
<p>Suppose the values of the costs are stored in an array named <code>costCofExample</code>.</p>
<pre><code class="julia hljs">costCofExample = [<span class=hljs-number >120</span>; <span class=hljs-number >205</span>; <span class=hljs-number >310</span>; <span class=hljs-number >45.0</span>]</code></pre>
<p>We create the dictionary <code>costRoutes</code> similar to an array:</p>
<ul>
<li><p>we create an empty dictionary, and then</p>

<li><p>use the command</p>

</ul>
<p><code>setindex&#33;&#40;name_of_dictionary, value, key&#41;</code> or <code>name_of_dictionary&#91;key&#93;&#61;value</code> to add new elements in the dictionary one by one</p>
<pre><code class="julia hljs">costRoutesExample=<span class=hljs-built_in >Dict</span>{Route, <span class=hljs-built_in >Float64</span>}()<span class=hljs-comment ># Create an empty dictionary</span>
<span class=hljs-comment ># where the key is Route and the value is Float64</span>
<span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:length(routesExample)
  costRoutesExample[routesExample[i]]=costCofExample[i]
  <span class=hljs-comment ># routesExample[i] is the key, and costCofExample[i] is the value</span>
<span class=hljs-keyword >end</span></code></pre>
<pre><code class="julia hljs">costRoutesExample</code></pre>
<p>After the dictionary is initialized, we can access the cost associated with some route <code>routes&#91;i&#93;</code> by typing in <code>costRoutes&#91;routes&#91;i&#93;&#93;</code></p>
<pre><code class="julia hljs">costRoutesExample[routesExample[<span class=hljs-number >4</span>]]</code></pre>
<p>Or we can input the description of the route itself:</p>
<pre><code class="julia hljs">routesExample[<span class=hljs-number >3</span>]
costRoutesExample[Route(:smartphone,:BANGKOK,:ISTANBUL)]</code></pre>
<h4 id=mathematical_representation_of_the_transportation_problem ><a href="#mathematical_representation_of_the_transportation_problem" class=header-anchor >Mathematical representation of the transportation problem</a></h4>
<p>The problem is a classic transportation problem. We will consider the sparse representation of the problem. Let</p>
<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo>=</mo><mtext>Set of all cities</mtext></mrow><annotation encoding="application/x-tex">C=\text{Set of all cities}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.69444em;vertical-align:0em;"></span><span class="mord text"><span class=mord >Set of all cities</span></span></span></span></span>
<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo>=</mo><mtext>Set of all products</mtext></mrow><annotation encoding="application/x-tex">P=\text{Set of all products}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord text"><span class=mord >Set of all products</span></span></span></span></span>
<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>=</mo><mo stretchy=false >{</mo><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>o</mi><mo separator=true >,</mo><mi>d</mi><mo stretchy=false >)</mo><mo>∈</mo><mi>P</mi><mo>×</mo><mi>C</mi><mo>×</mo><mi>C</mi><mo>:</mo><mtext>product </mtext><mi>p</mi><mtext> has to be transported from city </mtext><mi>o</mi><mtext> to city </mtext><mi>d</mi><mo stretchy=false >}</mo></mrow><annotation encoding="application/x-tex">R=\{(p,o,d) \in P \times C \times C: \text{product } p \text{ has to be transported from city } o \text{ to city } d\} </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >{(</span><span class="mord mathnormal">p</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">o</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >×</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >×</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >:</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class=mord >product </span></span><span class="mord mathnormal">p</span><span class="mord text"><span class=mord > has to be transported from city </span></span><span class="mord mathnormal">o</span><span class="mord text"><span class=mord > to city </span></span><span class="mord mathnormal">d</span><span class=mclose >}</span></span></span></span>
<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant=normal >∀</mi><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>o</mi><mo separator=true >,</mo><mi>d</mi><mo stretchy=false >)</mo><mo>∈</mo><mi>R</mi><mspace width=1em /><mrow><mo fence=true >(</mo><msub><mi>c</mi><mrow><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>o</mi><mo separator=true >,</mo><mi>d</mi><mo stretchy=false >)</mo></mrow></msub><mo>=</mo><mtext>cost of transporting some product </mtext><mi>p</mi><mtext> from city </mtext><mi>o</mi><mtext> to city </mtext><mi>d</mi><mo fence=true >)</mo></mrow></mrow><annotation encoding="application/x-tex">\forall (p,o,d) \in R \quad \left(c_{(p,o,d)} = \text{cost of transporting some product } p \text{ from city } o \text{ to city } d \right)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord >∀</span><span class=mopen >(</span><span class="mord mathnormal">p</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">o</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.2051999999999998em;vertical-align:-0.3551999999999999em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class=mspace  style="margin-right:1em;"></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=minner ><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class=mord ><span class="mord mathnormal">c</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">o</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">d</span><span class="mclose mtight">)</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class="mord text"><span class=mord >cost of transporting some product </span></span><span class="mord mathnormal">p</span><span class="mord text"><span class=mord > from city </span></span><span class="mord mathnormal">o</span><span class="mord text"><span class=mord > to city </span></span><span class="mord mathnormal">d</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span></span>
<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant=normal >∀</mi><mi>p</mi><mo>∈</mo><mi>P</mi><mspace width=1em /><mrow><mo fence=true >(</mo><msub><mi>O</mi><mi>p</mi></msub><mo>=</mo><mtext>Set of all origin cities where a product </mtext><mi>p</mi><mtext> is produced</mtext><mo fence=true >)</mo></mrow></mrow><annotation encoding="application/x-tex"> \forall p \in P \quad \left(O_p = \text{Set of all origin cities where a product } p \text{ is produced}\right) </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class=mord >∀</span><span class="mord mathnormal">p</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mspace  style="margin-right:1em;"></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=minner ><span class="mopen delimcenter" style="top:0em;">(</span><span class=mord ><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.286108em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class="mord text"><span class=mord >Set of all origin cities where a product </span></span><span class="mord mathnormal">p</span><span class="mord text"><span class=mord > is produced</span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span>
<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant=normal >∀</mi><mi>p</mi><mo>∈</mo><mi>P</mi><mspace width=1em /><mrow><mo fence=true >(</mo><msub><mi>D</mi><mi>p</mi></msub><mo>=</mo><mtext>Set of all destination cities where a product </mtext><mi>p</mi><mtext> has to be delivered</mtext><mo fence=true >)</mo></mrow></mrow><annotation encoding="application/x-tex"> \forall p \in P \quad \left(D_p = \text{Set of all destination cities where a product } p \text{
  has to be delivered}\right) </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class=mord >∀</span><span class="mord mathnormal">p</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mspace  style="margin-right:1em;"></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=minner ><span class="mopen delimcenter" style="top:0em;">(</span><span class=mord ><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.286108em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class="mord text"><span class=mord >Set of all destination cities where a product </span></span><span class="mord mathnormal">p</span><span class="mord text"><span class=mord > has to be delivered</span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span>
<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant=normal >∀</mi><mi>p</mi><mo>∈</mo><mi>P</mi><mtext>  </mtext><mi mathvariant=normal >∀</mi><mi>o</mi><mo>∈</mo><msub><mi>O</mi><mi>p</mi></msub><mspace width=1em /><mrow><mo fence=true >(</mo><msub><mi>s</mi><mrow><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>o</mi><mo stretchy=false >)</mo></mrow></msub><mo>=</mo><mtext>the total amount of the product </mtext><mi>p</mi><mtext> that can be supplied by city </mtext><mi>o</mi><mo fence=true >)</mo></mrow></mrow><annotation encoding="application/x-tex"> \forall p \in P \; \forall o \in O_p \quad \left(s_{(p,o)} = \text{the total amount of the product } p \text{ that can be supplied by city } o\right) </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class=mord >∀</span><span class="mord mathnormal">p</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord >∀</span><span class="mord mathnormal">o</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.2051999999999998em;vertical-align:-0.3551999999999999em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.286108em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:1em;"></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=minner ><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class=mord ><span class="mord mathnormal">s</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">o</span><span class="mclose mtight">)</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class="mord text"><span class=mord >the total amount of the product </span></span><span class="mord mathnormal">p</span><span class="mord text"><span class=mord > that can be supplied by city </span></span><span class="mord mathnormal">o</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span></span>
<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant=normal >∀</mi><mi>p</mi><mo>∈</mo><mi>P</mi><mtext>  </mtext><mi mathvariant=normal >∀</mi><mi>d</mi><mo>∈</mo><msub><mi>D</mi><mi>p</mi></msub><mspace width=1em /><mrow><mo fence=true >(</mo><msub><mi>d</mi><mrow><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>d</mi><mo stretchy=false >)</mo></mrow></msub><mo>=</mo><mtext>the total amount of the product </mtext><mi>p</mi><mtext> that is demanded by city </mtext><mi>d</mi><mo fence=true >)</mo></mrow></mrow><annotation encoding="application/x-tex"> \forall p \in P \; \forall d \in D_p \quad \left(d_{(p,d)} = \text{the total amount of the product } p \text{ that is demanded by city } d\right) </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class=mord >∀</span><span class="mord mathnormal">p</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord >∀</span><span class="mord mathnormal">d</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.2051999999999998em;vertical-align:-0.3551999999999999em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.286108em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:1em;"></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=minner ><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class=mord ><span class="mord mathnormal">d</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">d</span><span class="mclose mtight">)</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class="mord text"><span class=mord >the total amount of the product </span></span><span class="mord mathnormal">p</span><span class="mord text"><span class=mord > that is demanded by city </span></span><span class="mord mathnormal">d</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span></span>
<p>Total amount of shipped product between each pair of cities cannot exceed <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>γ</mi></mrow><annotation encoding="application/x-tex">\gamma</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span></span></span></span>.</p>
<p>The decision variable for this problem is <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mo fence=true >(</mo><msub><mi>x</mi><mrow><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>o</mi><mo separator=true >,</mo><mi>d</mi><mo stretchy=false >)</mo></mrow></msub><mo fence=true >)</mo></mrow><mrow><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>o</mi><mo separator=true >,</mo><mi>d</mi><mo stretchy=false >)</mo><mo>∈</mo><mi>R</mi></mrow></msub></mrow><annotation encoding="application/x-tex"> \left(x_{(p,o,d)}\right)_{(p,o,d) \in R}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.4299em;vertical-align:-0.5798999999999999em;"></span><span class=minner ><span class=minner ><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class=mord ><span class="mord mathnormal">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">o</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">d</span><span class="mclose mtight">)</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.1201000000000001em;"><span style="top:-2.2951em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">o</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">d</span><span class="mclose mtight">)</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.5798999999999999em;"><span></span></span></span></span></span></span></span></span></span>, where</p>
<span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mtable rowspacing=0.2500em  columnalign=right  columnspacing=""><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mi mathvariant=normal >∀</mi><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>o</mi><mo separator=true >,</mo><mi>d</mi><mo stretchy=false >)</mo><mo>∈</mo><mi>R</mi><mspace width=1em /><mrow><mo fence=true >(</mo><msub><mi>x</mi><mrow><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>o</mi><mo separator=true >,</mo><mi>d</mi><mo stretchy=false >)</mo></mrow></msub><mo>=</mo><mtext>the amount of a product </mtext><mi>p</mi><mtext> that is trasported from city </mtext><mi>o</mi><mtext> city d</mtext><mo fence=true >)</mo></mrow><mi mathvariant=normal >.</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">
\begin{align*}
  \forall (p,o,d) \in R \quad \left(x_{(p,o,d)}= \text{the amount of a product } p \text{ that is trasported from city } o \text{ city d} \right).
  \end{align*}
</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.5100000000000002em;vertical-align:-0.505em;"></span><span class=mord ><span class=mtable ><span class=col-align-r ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.0050000000000003em;"><span style="top:-3.1550000000000002em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord >∀</span><span class=mopen >(</span><span class="mord mathnormal">p</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">o</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class=mspace  style="margin-right:1em;"></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=minner ><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class=mord ><span class="mord mathnormal">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">o</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">d</span><span class="mclose mtight">)</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class="mord text"><span class=mord >the amount of a product </span></span><span class="mord mathnormal">p</span><span class="mord text"><span class=mord > that is trasported from city </span></span><span class="mord mathnormal">o</span><span class="mord text"><span class=mord > city d</span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord >.</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.505em;"><span></span></span></span></span></span></span></span></span></span></span></span>
<p>The optimization problem can be described as below:</p>
<span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mtable rowspacing=0.2500em  columnalign="right left right left" columnspacing="0em 1em 0em"><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><mtext>minimize</mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><munder><mo>∑</mo><mrow><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>o</mi><mo separator=true >,</mo><mi>d</mi><mo stretchy=false >)</mo><mo>∈</mo><mi>R</mi></mrow></munder><mrow><msub><mi>c</mi><mrow><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>o</mi><mo separator=true >,</mo><mi>d</mi><mo stretchy=false >)</mo></mrow></msub><msub><mi>x</mi><mrow><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>o</mi><mo separator=true >,</mo><mi>d</mi><mo stretchy=false >)</mo></mrow></msub></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><mtext>subject to</mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><mi mathvariant=normal >∀</mi><mi>p</mi><mo>∈</mo><mi>P</mi><mtext>  </mtext><mi mathvariant=normal >∀</mi><mi>o</mi><mo>∈</mo><msub><mi>O</mi><mi>p</mi></msub><mspace width=1em /><mrow><mo fence=true >(</mo><munder><mo>∑</mo><mrow><mi>d</mi><mo>∈</mo><msub><mi>D</mi><mi>p</mi></msub></mrow></munder><msub><mi>x</mi><mrow><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>o</mi><mo separator=true >,</mo><mi>d</mi><mo stretchy=false >)</mo></mrow></msub><mo>=</mo><msub><mi>s</mi><mrow><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>o</mi><mo stretchy=false >)</mo></mrow></msub><mo fence=true >)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><mrow><mtext mathvariant=monospace >/*The</mtext><mtext> </mtext><mtext mathvariant=monospace >amount</mtext><mtext> </mtext><mtext mathvariant=monospace >of</mtext><mtext> </mtext><mtext mathvariant=monospace >any</mtext><mtext> </mtext><mtext mathvariant=monospace >product</mtext><mtext> </mtext><mtext mathvariant=monospace >a</mtext><mtext> </mtext><mtext mathvariant=monospace >city</mtext><mtext> </mtext><mtext mathvariant=monospace >can</mtext><mtext> </mtext><mtext mathvariant=monospace >supply</mtext><mtext> </mtext><mtext mathvariant=monospace >to</mtext><mtext> </mtext><mtext mathvariant=monospace >other</mtext><mtext> </mtext><mtext mathvariant=monospace >cities</mtext><mtext> </mtext><mtext mathvariant=monospace >is</mtext><mtext> </mtext><mtext mathvariant=monospace >fixed</mtext><mtext> </mtext><mtext mathvariant=monospace >*/</mtext></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><mi mathvariant=normal >∀</mi><mi>p</mi><mo>∈</mo><mi>P</mi><mtext>  </mtext><mi mathvariant=normal >∀</mi><mi>d</mi><mo>∈</mo><msub><mi>D</mi><mi>p</mi></msub><mspace width=1em /><mrow><mo fence=true >(</mo><munder><mo>∑</mo><mrow><mi>o</mi><mo>∈</mo><msub><mi>O</mi><mi>p</mi></msub></mrow></munder><msub><mi>x</mi><mrow><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>o</mi><mo separator=true >,</mo><mi>d</mi><mo stretchy=false >)</mo></mrow></msub><mo>=</mo><msub><mi>d</mi><mrow><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>d</mi><mo stretchy=false >)</mo></mrow></msub><mo fence=true >)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><mrow><mtext mathvariant=monospace >/*</mtext><mtext> </mtext><mtext mathvariant=monospace >The</mtext><mtext> </mtext><mtext mathvariant=monospace >amount</mtext><mtext> </mtext><mtext mathvariant=monospace >of</mtext><mtext> </mtext><mtext mathvariant=monospace >any</mtext><mtext> </mtext><mtext mathvariant=monospace >product</mtext><mtext> </mtext><mtext mathvariant=monospace >demanded</mtext><mtext> </mtext><mtext mathvariant=monospace >by</mtext><mtext> </mtext><mtext mathvariant=monospace >a</mtext><mtext> </mtext><mtext mathvariant=monospace >city</mtext><mtext> </mtext><mtext mathvariant=monospace >is</mtext><mtext> </mtext><mtext mathvariant=monospace >also</mtext><mtext> </mtext><mtext mathvariant=monospace >fixed.*/</mtext></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><mi mathvariant=normal >∀</mi><mi>o</mi><mo>∈</mo><mi>C</mi><mtext>  </mtext><mi mathvariant=normal >∀</mi><mi>d</mi><mo>∈</mo><mi>C</mi><mo>∖</mo><mo stretchy=false >{</mo><mi>o</mi><mo stretchy=false >}</mo><mspace width=1em /><mrow><mo fence=true >(</mo><munder><mo>∑</mo><mrow><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mover accent=true ><mi>o</mi><mo>ˉ</mo></mover><mo separator=true >,</mo><mover accent=true ><mi>d</mi><mo>ˉ</mo></mover><mo stretchy=false >)</mo><mo>∈</mo><mi>R</mi><mtext>  </mtext><mo>:</mo><mtext>  </mtext><mi>o</mi><mo>=</mo><mover accent=true ><mi>o</mi><mo>ˉ</mo></mover><mo>∧</mo><mi>d</mi><mo>=</mo><mover accent=true ><mi>d</mi><mo>ˉ</mo></mover></mrow></munder><msub><mi>x</mi><mrow><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mover accent=true ><mi>o</mi><mo>ˉ</mo></mover><mo separator=true >,</mo><mover accent=true ><mi>d</mi><mo>ˉ</mo></mover><mo stretchy=false >)</mo></mrow></msub><mo>≤</mo><mi>γ</mi><mo fence=true >)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><mrow><mtext mathvariant=monospace >/*</mtext><mtext> </mtext><mtext mathvariant=monospace >The</mtext><mtext> </mtext><mtext mathvariant=monospace >total</mtext><mtext> </mtext><mtext mathvariant=monospace >amount</mtext><mtext> </mtext><mtext mathvariant=monospace >of</mtext><mtext> </mtext><mtext mathvariant=monospace >products</mtext><mtext> </mtext><mtext mathvariant=monospace >shipped</mtext><mtext> </mtext><mtext mathvariant=monospace >between</mtext><mtext> </mtext><mtext mathvariant=monospace >every</mtext><mtext> </mtext><mtext mathvariant=monospace >pair</mtext></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><mrow><mtext mathvariant=monospace >of</mtext><mtext> </mtext><mtext mathvariant=monospace >different</mtext><mtext> </mtext><mtext mathvariant=monospace >cities</mtext><mtext> </mtext><mtext mathvariant=monospace >can</mtext><mtext> </mtext><mtext mathvariant=monospace >not</mtext><mtext> </mtext><mtext mathvariant=monospace >exceed</mtext><mtext> </mtext><mtext mathvariant=monospace >a</mtext><mtext> </mtext><mtext mathvariant=monospace >given</mtext><mtext> </mtext><mtext mathvariant=monospace >limit.*/</mtext></mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">
\begin{align*}
  &amp;\text{minimize} &amp;&amp; \sum_{(p,o,d) \in R}{c_{(p,o,d)} x_{(p,o,d)}} \\
  &amp;\text{subject to} &amp;&amp; \\
  &amp;       &amp;&amp; \forall p \in P \; \forall o \in O_p \quad \left(\sum_{d \in D_p} x_{(p,o,d)}=s_{(p,o)}\right) \\
  &amp;       &amp;&amp; \texttt{/*The amount of any product a city can supply to other cities is fixed */} \\
  &amp;       &amp;&amp; \forall p \in P \; \forall d \in D_p \quad \left(\sum_{o \in O_p}{x_{(p,o,d)}}=d_{(p,d)}\right) \\
  &amp;       &amp;&amp; \texttt{/* The amount of any product demanded by a city is also fixed.*/} \\
  &amp;       &amp;&amp; \forall o \in C \; \forall d \in C \setminus \{o\} \quad
  \left(\sum_{(p,\bar{o},\bar{d}) \in R \; : \; o=\bar{o} \wedge d=\bar{d}}{x_{(p,\bar{o},\bar{d})}}\leq \gamma\right) \\
&amp;       &amp;&amp; \texttt{/* The total amount of products shipped between every pair} \\&amp; &amp;&amp;\texttt{of different cities can not exceed a given limit.*/}
\end{align*}
</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:22.088969em;vertical-align:-10.7944845em;"></span><span class=mord ><span class=mtable ><span class=col-align-r ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:11.2944845em;"><span style="top:-14.294499499999999em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ></span></span><span style="top:-11.6384945em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ></span></span><span style="top:-8.9284745em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ></span></span><span style="top:-6.2384545000000005em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ></span></span><span style="top:-3.5284345000000004em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ></span></span><span style="top:-0.8384144999999998em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ></span></span><span style="top:1.8716055000000003em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ></span></span><span style="top:4.584464499999999em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ></span></span><span style="top:6.084464499999999em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:10.7944845em;"><span></span></span></span></span></span><span class=col-align-l ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:11.2944845em;"><span style="top:-14.294499499999999em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ><span class=mord ></span><span class="mord text"><span class=mord >minimize</span></span></span></span><span style="top:-11.6384945em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ><span class=mord ></span><span class="mord text"><span class=mord >subject to</span></span></span></span><span style="top:-8.9284745em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ><span class=mord ></span></span></span><span style="top:-6.2384545000000005em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ><span class=mord ></span></span></span><span style="top:-3.5284345000000004em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ><span class=mord ></span></span></span><span style="top:-0.8384144999999998em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ><span class=mord ></span></span></span><span style="top:1.8716055000000003em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ><span class=mord ></span></span></span><span style="top:4.584464499999999em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ><span class=mord ></span></span></span><span style="top:6.084464499999999em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ><span class=mord ></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:10.7944845em;"><span></span></span></span></span></span><span class=arraycolsep  style="width:1em;"></span><span class=col-align-r ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:11.2944845em;"><span style="top:-14.294499499999999em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ></span></span><span style="top:-11.6384945em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ></span></span><span style="top:-8.9284745em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ></span></span><span style="top:-6.2384545000000005em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ></span></span><span style="top:-3.5284345000000004em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ></span></span><span style="top:-0.8384144999999998em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ></span></span><span style="top:1.8716055000000003em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ></span></span><span style="top:4.584464499999999em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ></span></span><span style="top:6.084464499999999em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:10.7944845em;"><span></span></span></span></span></span><span class=col-align-l ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:11.2944845em;"><span style="top:-14.294499499999999em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ><span class=mord ></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.050005em;"><span style="top:-1.808995em;margin-left:0em;"><span class=pstrut  style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">o</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">d</span><span class="mclose mtight">)</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span style="top:-3.0500049999999996em;"><span class=pstrut  style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:1.516005em;"><span></span></span></span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class=mord ><span class="mord mathnormal">c</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">o</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">d</span><span class="mclose mtight">)</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class=mord ><span class="mord mathnormal">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">o</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">d</span><span class="mclose mtight">)</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3551999999999999em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-11.6384945em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ><span class=mord ></span></span></span><span style="top:-8.9284745em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ><span class=mord ></span><span class=mord >∀</span><span class="mord mathnormal">p</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord >∀</span><span class="mord mathnormal">o</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.286108em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:1em;"></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=minner ><span class=mopen ><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class=pstrut  style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.3970000000000002em;"><span class=pstrut  style="height:3.1550000000000002em;"></span><span style="height:0.016em;width:0.875em;"><svg width='0.875em' height='0.016em' style='width:0.875em' viewBox='0 0 875 16' preserveAspectRatio='xMinYMin'><path d='M291 0 H417 V16 H291z M291 0 H417 V16 H291z'/></svg></span></span><span style="top:-4.05002em;"><span class=pstrut  style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.050005em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span class=pstrut  style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.02778em;margin-right:0.07142857142857144em;"><span class=pstrut  style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.0500049999999996em;"><span class=pstrut  style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:1.499433em;"><span></span></span></span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class="mord mathnormal">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">o</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">d</span><span class="mclose mtight">)</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord ><span class="mord mathnormal">s</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">o</span><span class="mclose mtight">)</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class=mclose ><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class=pstrut  style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.3970000000000002em;"><span class=pstrut  style="height:3.1550000000000002em;"></span><span style="height:0.016em;width:0.875em;"><svg width='0.875em' height='0.016em' style='width:0.875em' viewBox='0 0 875 16' preserveAspectRatio='xMinYMin'><path d='M457 0 H583 V16 H457z M457 0 H583 V16 H457z'/></svg></span></span><span style="top:-4.05002em;"><span class=pstrut  style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:1.55002em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-6.2384545000000005em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ><span class=mord ></span><span class="mord text"><span class="mord texttt">/*The amount of any product a city can supply to other cities is fixed */</span></span></span></span><span style="top:-3.5284345000000004em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ><span class=mord ></span><span class=mord >∀</span><span class="mord mathnormal">p</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord >∀</span><span class="mord mathnormal">d</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.286108em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:1em;"></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=minner ><span class=mopen ><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class=pstrut  style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.3970000000000002em;"><span class=pstrut  style="height:3.1550000000000002em;"></span><span style="height:0.016em;width:0.875em;"><svg width='0.875em' height='0.016em' style='width:0.875em' viewBox='0 0 875 16' preserveAspectRatio='xMinYMin'><path d='M291 0 H417 V16 H291z M291 0 H417 V16 H291z'/></svg></span></span><span style="top:-4.05002em;"><span class=pstrut  style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.050005em;"><span style="top:-1.8556639999999998em;margin-left:0em;"><span class=pstrut  style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">O</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.02778em;margin-right:0.07142857142857144em;"><span class=pstrut  style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.0500049999999996em;"><span class=pstrut  style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:1.491656em;"><span></span></span></span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class=mord ><span class="mord mathnormal">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">o</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">d</span><span class="mclose mtight">)</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3551999999999999em;"><span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord ><span class="mord mathnormal">d</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">d</span><span class="mclose mtight">)</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class=mclose ><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class=pstrut  style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.3970000000000002em;"><span class=pstrut  style="height:3.1550000000000002em;"></span><span style="height:0.016em;width:0.875em;"><svg width='0.875em' height='0.016em' style='width:0.875em' viewBox='0 0 875 16' preserveAspectRatio='xMinYMin'><path d='M457 0 H583 V16 H457z M457 0 H583 V16 H457z'/></svg></span></span><span style="top:-4.05002em;"><span class=pstrut  style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:1.55002em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-0.8384144999999998em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ><span class=mord ></span><span class="mord text"><span class="mord texttt">/* The amount of any product demanded by a city is also fixed.*/</span></span></span></span><span style="top:1.8716055000000003em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ><span class=mord ></span><span class=mord >∀</span><span class="mord mathnormal">o</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord >∀</span><span class="mord mathnormal">d</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >∖</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mopen >{</span><span class="mord mathnormal">o</span><span class=mclose >}</span><span class=mspace  style="margin-right:1em;"></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=minner ><span class=mopen ><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class=pstrut  style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.3970000000000002em;"><span class=pstrut  style="height:3.1550000000000002em;"></span><span style="height:0.016em;width:0.875em;"><svg width='0.875em' height='0.016em' style='width:0.875em' viewBox='0 0 875 16' preserveAspectRatio='xMinYMin'><path d='M291 0 H417 V16 H291z M291 0 H417 V16 H291z'/></svg></span></span><span style="top:-4.05002em;"><span class=pstrut  style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.050005em;"><span style="top:-1.752141em;margin-left:0em;"><span class=pstrut  style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">p</span><span class="mpunct mtight">,</span><span class="mord accent mtight"><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.56778em;"><span style="top:-2.7em;"><span class=pstrut  style="height:2.7em;"></span><span class="mord mathnormal mtight">o</span></span><span style="top:-2.7em;"><span class=pstrut  style="height:2.7em;"></span><span class=accent-body  style="left:-0.19444em;"><span class="mord mtight">ˉ</span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord accent mtight"><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8312199999999998em;"><span style="top:-2.7em;"><span class=pstrut  style="height:2.7em;"></span><span class="mord mathnormal mtight">d</span></span><span style="top:-2.9634400000000003em;"><span class=pstrut  style="height:2.7em;"></span><span class=accent-body  style="left:-0.08332999999999999em;"><span class="mord mtight">ˉ</span></span></span></span></span></span></span><span class="mclose mtight">)</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span><span class="mspace mtight" style="margin-right:0.3252777777777778em;"></span><span class="mrel mtight">:</span><span class="mspace mtight" style="margin-right:0.3252777777777778em;"></span><span class="mord mathnormal mtight">o</span><span class="mrel mtight">=</span><span class="mord accent mtight"><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.56778em;"><span style="top:-2.7em;"><span class=pstrut  style="height:2.7em;"></span><span class="mord mathnormal mtight">o</span></span><span style="top:-2.7em;"><span class=pstrut  style="height:2.7em;"></span><span class=accent-body  style="left:-0.19444em;"><span class="mord mtight">ˉ</span></span></span></span></span></span></span><span class="mbin mtight">∧</span><span class="mord mathnormal mtight">d</span><span class="mrel mtight">=</span><span class="mord accent mtight"><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8312199999999998em;"><span style="top:-2.7em;"><span class=pstrut  style="height:2.7em;"></span><span class="mord mathnormal mtight">d</span></span><span style="top:-2.9634400000000003em;"><span class=pstrut  style="height:2.7em;"></span><span class=accent-body  style="left:-0.08332999999999999em;"><span class="mord mtight">ˉ</span></span></span></span></span></span></span></span></span></span><span style="top:-3.0500049999999996em;"><span class=pstrut  style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:1.572859em;"><span></span></span></span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class=mord ><span class="mord mathnormal">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.34480000000000005em;"><span style="top:-2.462946em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">p</span><span class="mpunct mtight">,</span><span class="mord accent mtight"><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.56778em;"><span style="top:-2.7em;"><span class=pstrut  style="height:2.7em;"></span><span class="mord mathnormal mtight">o</span></span><span style="top:-2.7em;"><span class=pstrut  style="height:2.7em;"></span><span class=accent-body  style="left:-0.19444em;"><span class="mord mtight">ˉ</span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord accent mtight"><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8312199999999998em;"><span style="top:-2.7em;"><span class=pstrut  style="height:2.7em;"></span><span class="mord mathnormal mtight">d</span></span><span style="top:-2.9634400000000003em;"><span class=pstrut  style="height:2.7em;"></span><span class=accent-body  style="left:-0.08332999999999999em;"><span class="mord mtight">ˉ</span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.41205399999999986em;"><span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >≤</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class=mclose ><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class=pstrut  style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.3970000000000002em;"><span class=pstrut  style="height:3.1550000000000002em;"></span><span style="height:0.016em;width:0.875em;"><svg width='0.875em' height='0.016em' style='width:0.875em' viewBox='0 0 875 16' preserveAspectRatio='xMinYMin'><path d='M457 0 H583 V16 H457z M457 0 H583 V16 H457z'/></svg></span></span><span style="top:-4.05002em;"><span class=pstrut  style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:1.55002em;"><span></span></span></span></span></span></span></span></span></span><span style="top:4.584464499999999em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ><span class=mord ></span><span class="mord text"><span class="mord texttt">/* The total amount of products shipped between every pair</span></span></span></span><span style="top:6.084464499999999em;"><span class=pstrut  style="height:4.05002em;"></span><span class=mord ><span class=mord ></span><span class="mord text"><span class="mord texttt">of different cities can not exceed a given limit.*/</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:10.7944845em;"><span></span></span></span></span></span></span></span></span></span></span></span>
<p><strong>Mapping of the mathematical symbols to JuMP</strong></p>
<p>In the data file, the symbols in the model above are mapped as follows:</p>
<table><tr><th align=right >Symbol<th align=right >In the code<th align=right >Comment<tr><td align=right ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span><td align=right ><code>cities</code><td align=right ><code>cities</code> is an array of <code>Symbol</code>s<tr><td align=right ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span><td align=right ><code>products</code><td align=right ><code>products</code> is an array of <code>Symbol</code>s<tr><td align=right ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span><td align=right ><code>routes</code><td align=right ><code>routes</code> is an array of immutable type <code>Route</code><tr><td align=right ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy=false >(</mo><msub><mi>O</mi><mi>p</mi></msub><msub><mo stretchy=false >)</mo><mrow><mi>p</mi><mo>∈</mo><mi>P</mi></mrow></msub></mrow><annotation encoding="application/x-tex">(O_p)_{p \in P}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.036108em;vertical-align:-0.286108em;"></span><span class=mopen >(</span><span class=mord ><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.286108em;"><span></span></span></span></span></span></span><span class=mclose ><span class=mclose >)</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><td align=right ><code>orig</code><td align=right ><code>orig</code> is a dictionary<tr><td align=right ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy=false >(</mo><msub><mi>D</mi><mi>p</mi></msub><msub><mo stretchy=false >)</mo><mrow><mi>p</mi><mo>∈</mo><mi>P</mi></mrow></msub></mrow><annotation encoding="application/x-tex">(D_p)_{p \in P}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.036108em;vertical-align:-0.286108em;"></span><span class=mopen >(</span><span class=mord ><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.286108em;"><span></span></span></span></span></span></span><span class=mclose ><span class=mclose >)</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><td align=right ><code>dest</code><td align=right ><code>dest</code> is a dictionary<tr><td align=right ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy=false >(</mo><mo stretchy=false >(</mo><msub><mi>s</mi><mrow><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>o</mi><mo stretchy=false >)</mo></mrow></msub><msub><mo stretchy=false >)</mo><mrow><mi>o</mi><mo>∈</mo><msub><mi>O</mi><mi>p</mi></msub></mrow></msub><msub><mo stretchy=false >)</mo><mrow><mi>p</mi><mo>∈</mo><mi>P</mi></mrow></msub></mrow><annotation encoding="application/x-tex">((s_{(p,o)})_{o \in O_p})_{p \in P}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.1052em;vertical-align:-0.3551999999999999em;"></span><span class=mopen >((</span><span class=mord ><span class="mord mathnormal">s</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">o</span><span class="mclose mtight">)</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class=mclose ><span class=mclose >)</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.32833100000000004em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">O</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.02778em;margin-right:0.07142857142857144em;"><span class=pstrut  style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.34731999999999996em;"><span></span></span></span></span></span></span><span class=mclose ><span class=mclose >)</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><td align=right ><code>suppliedAmount</code><td align=right ><code>suppliedAmount</code> is a dictionary<tr><td align=right ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy=false >(</mo><mo stretchy=false >(</mo><msub><mi>d</mi><mrow><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>d</mi><mo stretchy=false >)</mo></mrow></msub><msub><mo stretchy=false >)</mo><mrow><mi>d</mi><mo>∈</mo><msub><mi>D</mi><mi>p</mi></msub></mrow></msub><msub><mo stretchy=false >)</mo><mrow><mi>p</mi><mo>∈</mo><mi>P</mi></mrow></msub></mrow><annotation encoding="application/x-tex">((d_{(p,d)})_{d \in D_p})_{p \in P}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.1052em;vertical-align:-0.3551999999999999em;"></span><span class=mopen >((</span><span class=mord ><span class="mord mathnormal">d</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">d</span><span class="mclose mtight">)</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class=mclose ><span class=mclose >)</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.02778em;margin-right:0.07142857142857144em;"><span class=pstrut  style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.34731999999999996em;"><span></span></span></span></span></span></span><span class=mclose ><span class=mclose >)</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><td align=right ><code>demandedAmount</code><td align=right ><code>demandedAmount</code> is a dictionary with key <code>Customer</code> and value <code>Float64</code><tr><td align=right ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy=false >(</mo><msub><mi>x</mi><mrow><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>o</mi><mo separator=true >,</mo><mi>d</mi><mo stretchy=false >)</mo></mrow></msub><msub><mo stretchy=false >)</mo><mrow><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>o</mi><mo separator=true >,</mo><mi>d</mi><mo stretchy=false >)</mo><mo>∈</mo><mi>R</mi></mrow></msub></mrow><annotation encoding="application/x-tex">(x_{(p,o,d)})_{(p,o,d) \in R}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.1052em;vertical-align:-0.3551999999999999em;"></span><span class=mopen >(</span><span class=mord ><span class="mord mathnormal">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">o</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">d</span><span class="mclose mtight">)</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class=mclose ><span class=mclose >)</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">o</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">d</span><span class="mclose mtight">)</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3551999999999999em;"><span></span></span></span></span></span></span></span></span></span><td align=right ><code>opt_prod</code><td align=right ><code>opt_prod</code> is a dictionary and the variable in the problem<tr><td align=right ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy=false >(</mo><msub><mi>c</mi><mrow><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>o</mi><mo separator=true >,</mo><mi>d</mi><mo stretchy=false >)</mo></mrow></msub><msub><mo stretchy=false >)</mo><mrow><mo stretchy=false >(</mo><mi>p</mi><mo separator=true >,</mo><mi>o</mi><mo separator=true >,</mo><mi>d</mi><mo stretchy=false >)</mo><mo>∈</mo><mi>R</mi></mrow></msub></mrow><annotation encoding="application/x-tex">(c_{(p,o,d)})_{(p,o,d) \in R}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.1052em;vertical-align:-0.3551999999999999em;"></span><span class=mopen >(</span><span class=mord ><span class="mord mathnormal">c</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">o</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">d</span><span class="mclose mtight">)</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class=mclose ><span class=mclose >)</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">o</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">d</span><span class="mclose mtight">)</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3551999999999999em;"><span></span></span></span></span></span></span></span></span></span><td align=right ><code>costRoutes</code><td align=right ><code>costRoutes</code> is a dictionary<tr><td align=right ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>γ</mi></mrow><annotation encoding="application/x-tex">\gamma</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span></span></span></span><td align=right ><code>capacity</code><td align=right >It is of type <code>Float64</code></table>
<h4 id=data_file ><a href="#data_file" class=header-anchor >Data file</a></h4>
<pre><code class="julia hljs">cities =
[
:BANGKOK; :LONDON; :PARIS; :SINGAPORE;  :NEWYORK;  :ISTANBUL;  :DUBAI;  :KUALALUMPUR;  :HONGKONG;  :BARCELONA
]

products   =
[
:smartphone; :tablet; :laptop
]

capacity    = <span class=hljs-number >700</span>

<span class=hljs-keyword >struct</span> Route
  p::<span class=hljs-built_in >Symbol</span> <span class=hljs-comment ># p stands for product</span>
  o::<span class=hljs-built_in >Symbol</span> <span class=hljs-comment ># o stands for origin</span>
  d::<span class=hljs-built_in >Symbol</span> <span class=hljs-comment ># d stands for destination</span>
<span class=hljs-keyword >end</span>

routes =
[
Route(:smartphone,:BANGKOK,:SINGAPORE);
Route(:smartphone,:BANGKOK,:NEWYORK);
Route(:smartphone,:BANGKOK,:ISTANBUL);
Route(:smartphone,:BANGKOK,:DUBAI);
Route(:smartphone,:BANGKOK,:KUALALUMPUR);
Route(:smartphone,:BANGKOK,:HONGKONG);
Route(:smartphone,:BANGKOK,:BARCELONA);
Route(:smartphone,:LONDON,:SINGAPORE);
Route(:smartphone,:LONDON,:NEWYORK);
Route(:smartphone,:LONDON,:ISTANBUL);
Route(:smartphone,:LONDON,:DUBAI);
Route(:smartphone,:LONDON,:KUALALUMPUR);
Route(:smartphone,:LONDON,:HONGKONG);
Route(:smartphone,:LONDON,:BARCELONA);
Route(:smartphone,:PARIS,:SINGAPORE);
Route(:smartphone,:PARIS,:NEWYORK);
Route(:smartphone,:PARIS,:ISTANBUL);
Route(:smartphone,:PARIS,:DUBAI);
Route(:smartphone,:PARIS,:KUALALUMPUR);
Route(:smartphone,:PARIS,:HONGKONG);
Route(:smartphone,:PARIS,:BARCELONA);

Route(:tablet,:BANGKOK,:SINGAPORE);
Route(:tablet,:BANGKOK,:NEWYORK);
Route(:tablet,:BANGKOK,:ISTANBUL);
Route(:tablet,:BANGKOK,:DUBAI);
Route(:tablet,:BANGKOK,:KUALALUMPUR);
Route(:tablet,:BANGKOK,:HONGKONG);
Route(:tablet,:BANGKOK,:BARCELONA);

Route(:tablet,:LONDON,:SINGAPORE);
Route(:tablet,:LONDON,:NEWYORK);
Route(:tablet,:LONDON,:ISTANBUL);
Route(:tablet,:LONDON,:DUBAI);
Route(:tablet,:LONDON,:KUALALUMPUR);
Route(:tablet,:LONDON,:HONGKONG);
Route(:tablet,:LONDON,:BARCELONA);

Route(:tablet,:PARIS,:SINGAPORE);
Route(:tablet,:PARIS,:NEWYORK);
Route(:tablet,:PARIS,:ISTANBUL);
Route(:tablet,:PARIS,:DUBAI);
Route(:tablet,:PARIS,:KUALALUMPUR);
Route(:tablet,:PARIS,:HONGKONG);
Route(:tablet,:PARIS,:BARCELONA);

Route(:laptop,:BANGKOK,:SINGAPORE);
Route(:laptop,:BANGKOK,:NEWYORK);
Route(:laptop,:BANGKOK,:ISTANBUL);
Route(:laptop,:BANGKOK,:DUBAI);
Route(:laptop,:BANGKOK,:KUALALUMPUR);
Route(:laptop,:BANGKOK,:HONGKONG);
Route(:laptop,:BANGKOK,:BARCELONA);

Route(:laptop,:LONDON,:SINGAPORE);
Route(:laptop,:LONDON,:NEWYORK);
Route(:laptop,:LONDON,:ISTANBUL);
Route(:laptop,:LONDON,:DUBAI);
Route(:laptop,:LONDON,:KUALALUMPUR);
Route(:laptop,:LONDON,:HONGKONG);
Route(:laptop,:LONDON,:BARCELONA);

Route(:laptop,:PARIS,:SINGAPORE);
Route(:laptop,:PARIS,:NEWYORK);
Route(:laptop,:PARIS,:ISTANBUL);
Route(:laptop,:PARIS,:DUBAI);
Route(:laptop,:PARIS,:KUALALUMPUR);
Route(:laptop,:PARIS,:HONGKONG);
Route(:laptop,:PARIS,:BARCELONA);
]

<span class=hljs-keyword >struct</span> Supply
  p::<span class=hljs-built_in >Symbol</span>
  o::<span class=hljs-built_in >Symbol</span>
<span class=hljs-keyword >end</span>

<span class=hljs-comment >#Creating the array supplies</span>
<span class=hljs-comment >#                   --------</span>
supplies = Supply[] <span class=hljs-comment ># Creates a 0 element array of immutable type Supply</span>
<span class=hljs-keyword >for</span> r <span class=hljs-keyword >in</span> routes
  push!(supplies, Supply(r.p, r.o))
<span class=hljs-keyword >end</span>

<span class=hljs-comment ># Creating suppliedAmount dictionary</span>
<span class=hljs-comment >#          --------------</span>
<span class=hljs-comment >#It might be better to create this as a dictionary, where the key is the</span>
<span class=hljs-comment ># element of the array supplies and the value is the corresponding supplied</span>
<span class=hljs-comment >#amount</span>


suppliedAmount = <span class=hljs-built_in >Dict</span>{Supply, <span class=hljs-built_in >Float64</span>}()
<span class=hljs-keyword >for</span> s <span class=hljs-keyword >in</span> supplies
  <span class=hljs-keyword >if</span> s.p == :smartphone &amp;&amp; s.o == :LONDON
    suppliedAmount[s]=<span class=hljs-number >800</span>
  <span class=hljs-keyword >elseif</span> s.p == :smartphone &amp;&amp; s.o==:BANGKOK
    suppliedAmount[s]=<span class=hljs-number >500</span>
  <span class=hljs-keyword >elseif</span> s.p == :smartphone &amp;&amp; s.o==:PARIS
    suppliedAmount[s]=<span class=hljs-number >600</span>
  <span class=hljs-keyword >elseif</span> s.p == :tablet &amp;&amp; s.o==:BANGKOK
    suppliedAmount[s]=<span class=hljs-number >1000</span>
  <span class=hljs-keyword >elseif</span> s.p == :tablet &amp;&amp; s.o==:LONDON
    suppliedAmount[s]=<span class=hljs-number >1500</span>
  <span class=hljs-keyword >elseif</span> s.p == :tablet &amp;&amp; s.o == :PARIS
    suppliedAmount[s]=<span class=hljs-number >1700</span>
  <span class=hljs-keyword >elseif</span> s.p == :laptop &amp;&amp; s.o == :BANGKOK
    suppliedAmount[s]=<span class=hljs-number >150</span>
  <span class=hljs-keyword >elseif</span> s.p == :laptop &amp;&amp; s.o == :LONDON
    suppliedAmount[s]=<span class=hljs-number >250</span>
  <span class=hljs-keyword >elseif</span> s.p == :laptop &amp;&amp; s.o == :PARIS
    suppliedAmount[s]=<span class=hljs-number >400</span>
  <span class=hljs-keyword >end</span> <span class=hljs-comment >#if</span>
<span class=hljs-keyword >end</span> <span class=hljs-comment >#for</span>

<span class=hljs-keyword >struct</span> Customer
  p::<span class=hljs-built_in >Symbol</span>
  d::<span class=hljs-built_in >Symbol</span>
<span class=hljs-keyword >end</span>

<span class=hljs-comment ># Creating customers array, which is an array of custom immutable Customer</span>
<span class=hljs-comment >#          ---------</span>
customers = Customer[]
<span class=hljs-keyword >for</span> r <span class=hljs-keyword >in</span> routes
  push!(customers, Customer(r.p, r.d))
<span class=hljs-keyword >end</span>


demandedAmount = <span class=hljs-built_in >Dict</span>{Customer, <span class=hljs-built_in >Float64</span>}()
<span class=hljs-keyword >for</span> c <span class=hljs-keyword >in</span> customers
  <span class=hljs-comment >#1</span>
  <span class=hljs-keyword >if</span> c.p==:smartphone &amp;&amp; c.d==:SINGAPORE
    demandedAmount[c]=<span class=hljs-number >400</span>
    <span class=hljs-comment >#2</span>
  <span class=hljs-keyword >elseif</span> c.p==:tablet &amp;&amp; c.d==:SINGAPORE
    demandedAmount[c]=<span class=hljs-number >600</span>
    <span class=hljs-comment >#3</span>
  <span class=hljs-keyword >elseif</span> c.p==:laptop &amp;&amp; c.d==:SINGAPORE
    demandedAmount[c]=<span class=hljs-number >90</span>
    <span class=hljs-comment >#4</span>
  <span class=hljs-keyword >elseif</span> c.p==:smartphone &amp;&amp; c.d==:NEWYORK
    demandedAmount[c]=<span class=hljs-number >200</span>
    <span class=hljs-comment >#5</span>
  <span class=hljs-keyword >elseif</span> c.p==:tablet &amp;&amp; c.d==:NEWYORK
    demandedAmount[c]=<span class=hljs-number >650</span>
    <span class=hljs-comment >#6</span>
  <span class=hljs-keyword >elseif</span> c.p==:laptop &amp;&amp; c.d==:NEWYORK
    demandedAmount[c]=<span class=hljs-number >110</span>
    <span class=hljs-comment >#7</span>
  <span class=hljs-keyword >elseif</span> c.p==:smartphone &amp;&amp; c.d==:ISTANBUL
    demandedAmount[c]=<span class=hljs-number >100</span>
    <span class=hljs-comment >#8</span>
  <span class=hljs-keyword >elseif</span> c.p==:tablet &amp;&amp; c.d==:ISTANBUL
    demandedAmount[c]=<span class=hljs-number >300</span>
    <span class=hljs-comment >#9</span>
  <span class=hljs-keyword >elseif</span> c.p==:laptop &amp;&amp; c.d==:ISTANBUL
    demandedAmount[c]=<span class=hljs-number >0</span>
    <span class=hljs-comment >#10</span>
  <span class=hljs-keyword >elseif</span> c.p==:smartphone &amp;&amp; c.d==:DUBAI
    demandedAmount[c]=<span class=hljs-number >175</span>
    <span class=hljs-comment >#11</span>
  <span class=hljs-keyword >elseif</span> c.p==:tablet &amp;&amp; c.d==:DUBAI
    demandedAmount[c]=<span class=hljs-number >350</span>
    <span class=hljs-comment >#12</span>
  <span class=hljs-keyword >elseif</span> c.p==:laptop &amp;&amp; c.d==:DUBAI
    demandedAmount[c]=<span class=hljs-number >65</span>
    <span class=hljs-comment >#13</span>
  <span class=hljs-keyword >elseif</span> c.p==:smartphone &amp;&amp; c.d==:KUALALUMPUR
    demandedAmount[c]=<span class=hljs-number >550</span>
    <span class=hljs-comment >#14</span>
  <span class=hljs-keyword >elseif</span> c.p==:tablet &amp;&amp; c.d==:KUALALUMPUR
    demandedAmount[c]=<span class=hljs-number >950</span>
    <span class=hljs-comment >#15</span>
  <span class=hljs-keyword >elseif</span> c.p==:laptop &amp;&amp; c.d==:KUALALUMPUR
    demandedAmount[c]=<span class=hljs-number >185</span>
    <span class=hljs-comment >#16</span>
  <span class=hljs-keyword >elseif</span> c.p==:smartphone &amp;&amp; c.d==:HONGKONG
    demandedAmount[c]=<span class=hljs-number >200</span>
    <span class=hljs-comment >#17</span>
  <span class=hljs-keyword >elseif</span> c.p==:tablet &amp;&amp; c.d==:HONGKONG
    demandedAmount[c]=<span class=hljs-number >750</span>
    <span class=hljs-comment >#18</span>
  <span class=hljs-keyword >elseif</span> c.p==:laptop &amp;&amp; c.d==:HONGKONG
    demandedAmount[c]=<span class=hljs-number >150</span>
    <span class=hljs-comment >#19</span>
  <span class=hljs-keyword >elseif</span> c.p==:smartphone &amp;&amp; c.d==:BARCELONA
    demandedAmount[c]=<span class=hljs-number >275</span>
    <span class=hljs-comment >#20</span>
  <span class=hljs-keyword >elseif</span> c.p==:tablet &amp;&amp; c.d==:BARCELONA
    demandedAmount[c]=<span class=hljs-number >600</span>
    <span class=hljs-comment >#21</span>
  <span class=hljs-keyword >elseif</span> c.p==:laptop &amp;&amp; c.d==:BARCELONA
    demandedAmount[c]=<span class=hljs-number >200</span>
  <span class=hljs-keyword >end</span>
<span class=hljs-keyword >end</span>


costCof =
[<span class=hljs-number >34</span>; <span class=hljs-number >7</span>; <span class=hljs-number >8</span>; <span class=hljs-number >10</span>; <span class=hljs-number >11</span>; <span class=hljs-number >74</span>; <span class=hljs-number >9</span>; <span class=hljs-number >18</span>; <span class=hljs-number >5</span>; <span class=hljs-number >15</span>; <span class=hljs-number >6</span>; <span class=hljs-number >23</span>; <span class=hljs-number >81</span>; <span class=hljs-number >18</span>; <span class=hljs-number >20</span>; <span class=hljs-number >10</span>; <span class=hljs-number >9</span>;
<span class=hljs-number >13</span>; <span class=hljs-number >25</span>; <span class=hljs-number >85</span>; <span class=hljs-number >13</span>; <span class=hljs-number >40</span>; <span class=hljs-number >17</span>; <span class=hljs-number >7</span>; <span class=hljs-number >16</span>; <span class=hljs-number >20</span>; <span class=hljs-number >80</span>; <span class=hljs-number >9</span>; <span class=hljs-number >24</span>; <span class=hljs-number >5</span>; <span class=hljs-number >15</span>; <span class=hljs-number >11</span>; <span class=hljs-number >23</span>;
<span class=hljs-number >90</span>; <span class=hljs-number >22</span>; <span class=hljs-number >19</span>; <span class=hljs-number >15</span>; <span class=hljs-number >16</span>; <span class=hljs-number >15</span>; <span class=hljs-number >24</span>; <span class=hljs-number >100</span>; <span class=hljs-number >21</span>; <span class=hljs-number >37</span>; <span class=hljs-number >12</span>; <span class=hljs-number >9</span>; <span class=hljs-number >16</span>; <span class=hljs-number >14</span>;
<span class=hljs-number >88</span>; <span class=hljs-number >9</span>; <span class=hljs-number >28</span>; <span class=hljs-number >13</span>; <span class=hljs-number >17</span>; <span class=hljs-number >8</span>; <span class=hljs-number >32</span>; <span class=hljs-number >100</span>; <span class=hljs-number >18</span>; <span class=hljs-number >28</span>; <span class=hljs-number >15</span>; <span class=hljs-number >18</span>; <span class=hljs-number >16</span>; <span class=hljs-number >30</span>; <span class=hljs-number >102</span>; <span class=hljs-number >15</span>]

<span class=hljs-comment ># Creating costRoutes dictionary which contains the costs of the relevant routes</span>
costRoutes=<span class=hljs-built_in >Dict</span>{Route, <span class=hljs-built_in >Float64</span>}()
<span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:length(routes)
  costRoutes[routes[i]]=costCof[i]
<span class=hljs-keyword >end</span>

<span class=hljs-comment ># Creating orig, which takes the product as the input and gives the set of origins of that product</span>

orig = <span class=hljs-built_in >Dict</span>{<span class=hljs-built_in >Symbol</span>, <span class=hljs-built_in >Array</span>}()
<span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:length(products)
  dummy_array = <span class=hljs-built_in >Symbol</span>[]
  <span class=hljs-keyword >for</span> j <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:length(routes)
    <span class=hljs-comment >#println(i, j, products[i] == routes[j].p)</span>
    <span class=hljs-keyword >if</span> products[i] == routes[j].p
      push!(dummy_array, routes[j].o)
      <span class=hljs-comment >#println(orig[products[i]])</span>
    <span class=hljs-keyword >else</span>
      <span class=hljs-comment >#println(&quot;Oops, something is not right&quot;)</span>
    <span class=hljs-keyword >end</span> <span class=hljs-comment >#if</span>
  <span class=hljs-keyword >end</span> <span class=hljs-comment >#for</span>
  orig[products[i]]=unique(dummy_array)
<span class=hljs-keyword >end</span> <span class=hljs-comment >#for</span>

<span class=hljs-comment ># Creating dest, which takes the product as the input and gives the set of destinations of that product</span>

dest = <span class=hljs-built_in >Dict</span>{<span class=hljs-built_in >Symbol</span>, <span class=hljs-built_in >Array</span>}()
<span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:length(products)
  dummy_array = <span class=hljs-built_in >Symbol</span>[]
  <span class=hljs-keyword >for</span> j <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:length(routes)
    <span class=hljs-comment >#println(i, j, products[i] == routes[j].p)</span>
    <span class=hljs-keyword >if</span> products[i] == routes[j].p
      push!(dummy_array, routes[j].d)
      <span class=hljs-comment >#println(orig[products[i]])</span>
    <span class=hljs-keyword >else</span>
      <span class=hljs-comment >#println(&quot;Oops, something is not right&quot;)</span>
    <span class=hljs-keyword >end</span> <span class=hljs-comment >#if</span>
  <span class=hljs-keyword >end</span> <span class=hljs-comment >#for</span>
  dest[products[i]]=unique(dummy_array)
<span class=hljs-keyword >end</span> <span class=hljs-comment >#for</span></code></pre>
<h4 id=solve_using_jump ><a href="#solve_using_jump" class=header-anchor >Solve using <code>JuMP</code></a></h4>
<pre><code class="julia hljs"><span class=hljs-comment ># Load packages</span>
<span class=hljs-keyword >using</span> JuMP, COSMO

<span class=hljs-comment ># Model name</span>
transpModel = Model(COSMO.Optimizer)

<span class=hljs-comment ># Variable</span>
<span class=hljs-meta >@variable</span>(transpModel, opt_prod[routes] &gt;= <span class=hljs-number >0</span>)

<span class=hljs-comment ># Objective</span>
<span class=hljs-meta >@objective</span>(transpModel, Min, sum(costRoutes[l]*opt_prod[l] <span class=hljs-keyword >for</span> l <span class=hljs-keyword >in</span> routes))

<span class=hljs-comment ># First Constraint</span>
<span class=hljs-keyword >for</span> pr <span class=hljs-keyword >in</span> products
  <span class=hljs-keyword >for</span> org <span class=hljs-keyword >in</span> orig[pr]
    <span class=hljs-meta >@constraint</span>(transpModel, sum(opt_prod[Route(pr, org, de)] <span class=hljs-keyword >for</span> de <span class=hljs-keyword >in</span> dest[pr])
    ==
    suppliedAmount[Supply(pr,org)])
  <span class=hljs-keyword >end</span>
<span class=hljs-keyword >end</span>

<span class=hljs-comment >#Second Constraint</span>
<span class=hljs-keyword >for</span> pr <span class=hljs-keyword >in</span> products
  <span class=hljs-keyword >for</span> de <span class=hljs-keyword >in</span> dest[pr]
    <span class=hljs-meta >@constraint</span>(transpModel, sum(opt_prod[Route(pr, org, de)] <span class=hljs-keyword >for</span> org <span class=hljs-keyword >in</span> orig[pr])
    ==
    demandedAmount[Customer(pr,de)])
  <span class=hljs-keyword >end</span>
<span class=hljs-keyword >end</span>

<span class=hljs-comment ># Final constraint:</span>
<span class=hljs-keyword >for</span> org <span class=hljs-keyword >in</span> cities
  <span class=hljs-keyword >for</span> de <span class=hljs-keyword >in</span> cities
    <span class=hljs-keyword >if</span> org!=de
      <span class=hljs-meta >@constraint</span>(transpModel,
      sum(
      opt_prod[r] <span class=hljs-keyword >for</span> r <span class=hljs-keyword >in</span> routes
      <span class=hljs-keyword >if</span> r.o == org &amp;&amp; r.d==de <span class=hljs-comment ># This will be used as an filtering condition</span>
        )
        &lt;=
        capacity)
      <span class=hljs-keyword >else</span>
        <span class=hljs-keyword >continue</span>
      <span class=hljs-keyword >end</span>
    <span class=hljs-keyword >end</span>
  <span class=hljs-keyword >end</span>

  statusMipModel = optimize!(transpModel) <span class=hljs-comment ># solves the model</span>

  println(<span class=hljs-string >&quot;The optimal objective value is: &quot;</span>, value.(trans))

  println(<span class=hljs-string >&quot;The optimal solution is, trans= \n&quot;</span>, objective_value(transpModel))</code></pre>
<p><strong>Converting .jmd file to .jl file</strong> To convert the .jmd file to a .jl file we run the following code:</p>
<pre><code class="julia hljs"><span class=hljs-keyword >using</span> Weave
cd(<span class=hljs-string >&quot;C:\\Users\\shuvo\\Desktop&quot;</span>) <span class=hljs-comment ># directory that contains the .jmd file</span>
tangle(<span class=hljs-string >&quot;Exploiting_sparsity_in_Julia_JuMP.jmd&quot;</span>, informat = <span class=hljs-string >&quot;markdown&quot;</span>) <span class=hljs-comment ># convert the .jmd file into a .jl file that will contain the code</span></code></pre>
<div class=page-foot >
  <div class=copyright >
    &copy; Shuvomoy Das Gupta. Last modified: June 16, 2022. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>.
  </div>
</div>
</div>
        </div> 
    </div>